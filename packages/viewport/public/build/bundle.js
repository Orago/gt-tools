/*! For license information please see bundle.js.LICENSE.txt */
var t={659:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(63),i=n.n(r),s=n(248),a=n.n(s)()(i());a.push([t.id,"*,\n*:before,\n*:after {\n\tbox-sizing: inherit;\n\ttransition: color .2s;\n\toutline: none;\n}\n\nhtml {\n\tbox-sizing: border-box;\n\tscroll-behavior: smooth;\n\t-webkit-font-smoothing: antialiased;\n\theight: 100%;\n}\n\nbody {\n\tmargin: 0;\n\theight: 100%;\n}\n\ncanvas {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n}",""]);const o=a},248:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var o=0;o<this.length;o++){var h=this[o][0];null!=h&&(a[h]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);r&&a[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},63:t=>{t.exports=function(t){return t[1]}},571:function(t,e,n){var r;void 0===(r=function(){function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){o(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,n,a){var o=s.URL||s.webkitURL,h=document.createElement("a");n=n||t.name||"download",h.download=n,h.rel="noopener","string"==typeof t?(h.href=t,h.origin===location.origin?i(h):r(h.href)?e(t,n,a):i(h,h.target="_blank")):(h.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(h.href)}),4e4),setTimeout((function(){i(h)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,s),n);else if(r(t))e(t,n,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){i(a)}))}}:function(t,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var o="application/octet-stream"===t.type,h=/constructor/i.test(s.HTMLElement)||s.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&h||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},c.readAsDataURL(t)}else{var d=s.URL||s.webkitURL,u=d.createObjectURL(t);i?i.location=u:location.href=u,i=null,setTimeout((function(){d.revokeObjectURL(u)}),4e4)}});s.saveAs=o.saveAs=o,t.exports=o}.apply(e,[]))||(t.exports=r)},672:(t,e,n)=>{t.exports=function t(e,n,r){function i(a,o){if(!n[a]){if(!e[a]){if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var l=n[a]={exports:{}};e[a][0].call(l.exports,(function(t){return i(e[a][1][t]||t)}),l,l.exports,t,e,n,r)}return n[a].exports}for(var s=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){var r=t("./utils"),i=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,i,a,o,h,l,c=[],d=0,u=t.length,f=u,p="string"!==r.getTypeOf(t);d<t.length;)f=u-d,i=p?(e=t[d++],n=d<u?t[d++]:0,d<u?t[d++]:0):(e=t.charCodeAt(d++),n=d<u?t.charCodeAt(d++):0,d<u?t.charCodeAt(d++):0),a=e>>2,o=(3&e)<<4|n>>4,h=1<f?(15&n)<<2|i>>6:64,l=2<f?63&i:64,c.push(s.charAt(a)+s.charAt(o)+s.charAt(h)+s.charAt(l));return c.join("")},n.decode=function(t){var e,n,r,a,o,h,l=0,c=0,d="data:";if(t.substr(0,5)===d)throw new Error("Invalid base64 input, it looks like a data url.");var u,f=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===s.charAt(64)&&f--,t.charAt(t.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=i.uint8array?new Uint8Array(0|f):new Array(0|f);l<t.length;)e=s.indexOf(t.charAt(l++))<<2|(a=s.indexOf(t.charAt(l++)))>>4,n=(15&a)<<4|(o=s.indexOf(t.charAt(l++)))>>2,r=(3&o)<<6|(h=s.indexOf(t.charAt(l++))),u[c++]=e,64!==o&&(u[c++]=n),64!==h&&(u[c++]=r);return u}},{"./support":30,"./utils":32}],2:[function(t,e,n){var r=t("./external"),i=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function o(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}o.prototype={getContentWorker:function(){var t=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){var r=t("./utils"),i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n){var r=i,s=0+n;t^=-1;for(var a=0;a<s;a++)t=t>>>8^r[255&(t^e[a])];return~t}(0|e,t,t.length):function(t,e,n){var r=i,s=0+n;t^=-1;for(var a=0;a<s;a++)t=t>>>8^r[255&(t^e.charCodeAt(a))];return~t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){var r;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:37}],7:[function(t,e,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako"),s=t("./utils"),a=t("./stream/GenericWorker"),o=r?"uint8array":"array";function h(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",s.inherits(h,a),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,t.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new h("Deflate",t)},n.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){function r(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r}function i(t,e,n,i,a,c){var d,u,f=t.file,p=t.compression,m=c!==o.utf8encode,_=s.transformTo("string",c(f.name)),g=s.transformTo("string",o.utf8encode(f.name)),v=f.comment,b=s.transformTo("string",c(v)),w=s.transformTo("string",o.utf8encode(v)),y=g.length!==f.name.length,k=w.length!==v.length,x="",z="",E="",A=f.dir,C=f.date,S={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(S.crc32=t.crc32,S.compressedSize=t.compressedSize,S.uncompressedSize=t.uncompressedSize);var R=0;e&&(R|=8),m||!y&&!k||(R|=2048);var T=0,I=0;A&&(T|=16),"UNIX"===a?(I=798,T|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(f.unixPermissions,A)):(I=20,T|=function(t){return 63&(t||0)}(f.dosPermissions)),d=C.getUTCHours(),d<<=6,d|=C.getUTCMinutes(),d<<=5,d|=C.getUTCSeconds()/2,u=C.getUTCFullYear()-1980,u<<=4,u|=C.getUTCMonth()+1,u<<=5,u|=C.getUTCDate(),y&&(z=r(1,1)+r(h(_),4)+g,x+="up"+r(z.length,2)+z),k&&(E=r(1,1)+r(h(b),4)+w,x+="uc"+r(E.length,2)+E);var O="";return O+="\n\0",O+=r(R,2),O+=p.magic,O+=r(d,2),O+=r(u,2),O+=r(S.crc32,4),O+=r(S.compressedSize,4),O+=r(S.uncompressedSize,4),O+=r(_.length,2),O+=r(x.length,2),{fileRecord:l.LOCAL_FILE_HEADER+O+_+x,dirRecord:l.CENTRAL_FILE_HEADER+r(I,2)+O+r(b.length,2)+"\0\0\0\0"+r(T,4)+r(i,4)+_+x+b}}var s=t("../utils"),a=t("../stream/GenericWorker"),o=t("../utf8"),h=t("../crc32"),l=t("../signature");function c(t,e,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(c,a),c.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return l.DATA_DESCRIPTOR+r(t.crc32,4)+r(t.compressedSize,4)+r(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,a){var o=s.transformTo("string",a(i));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+r(o.length,2)+o}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},c.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){var r=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var s=new i(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var i=function(t,e){var n=t||e,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,e.compression),o=n.options.compressionOptions||e.compressionOptions||{},h=n.dir,l=n.date;n._compressWorker(i,o).withStreamInfo("file",{name:t,dir:h,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(s)})),s.entriesCount=a}catch(t){s.error(t)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){var r=t("./utils"),i=t("./external"),s=t("./utf8"),a=t("./zipEntries"),o=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function l(t){return new i.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new o);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),h.isNode&&h.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new a(e);return n.load(t),n})).then((function(t){var n=[i.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var s=0;s<r.length;s++)n.push(l(r[s]));return i.Promise.all(n)})).then((function(t){for(var i=t.shift(),s=i.files,a=0;a<s.length;a++){var o=s[a],h=o.fileNameStr,l=r.resolve(o.fileNameStr);n.file(l,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders}),o.dir||(n.file(l).unsafeOriginalName=h)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){var r=t("../utils"),i=t("../stream/GenericWorker");function s(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}r.inherits(s,i),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){var r=t("readable-stream").Readable;function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",(function(t,e){i.push(t)||i._helper.pause(),n&&n(e)})).on("error",(function(t){i.emit("error",t)})).on("end",(function(){i.push(null)}))}t("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){function r(t,e,n){var r,i=s.getTypeOf(e),o=s.extend(n||{},h);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(t=m(t)),o.createFolders&&(r=p(t))&&_.call(this,r,!0);var d="string"===i&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!d),(e instanceof l&&0===e.uncompressedSize||o.dir||!e||0===e.length)&&(o.base64=!1,o.binary=!0,e="",o.compression="STORE",i="string");var g;g=e instanceof l||e instanceof a?e:u.isNode&&u.isStream(e)?new f(t,e):s.prepareContent(t,e,o.binary,o.optimizedBinaryString,o.base64);var v=new c(t,g,o);this.files[t]=v}var i=t("./utf8"),s=t("./utils"),a=t("./stream/GenericWorker"),o=t("./stream/StreamHelper"),h=t("./defaults"),l=t("./compressedObject"),c=t("./zipObject"),d=t("./generate"),u=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},_=function(t,e){return e=void 0!==e?e:h.createFolders,t=m(t),this.files[t]||r.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function g(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r)},filter:function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,r.call(this,t,e,n),this;if(g(t)){var i=t;return this.filter((function(t,e){return!e.dir&&i.test(t)}))}var s=this.files[this.root+t];return s&&!s.dir?s:null},folder:function(t){if(!t)return this;if(g(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=_.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=s.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=d.generateWorker(this,n,r)}catch(t){(e=new a("error")).error(t)}return new o(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){var r=t("./DataReader");function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&n===s[1]&&r===s[2]&&i===s[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){var r=t("../utils");function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){var r=t("./Uint8ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){var r=t("./DataReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){var r=t("./ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){var r=t("../utils"),i=t("../support"),s=t("./ArrayReader"),a=t("./StringReader"),o=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new o(t):i.uint8array?new h(r.transformTo("uint8array",t)):new s(r.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){var r=t("./GenericWorker"),i=t("../utils");function s(t){r.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(s,r),s.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){var r=t("./GenericWorker"),i=t("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,r),s.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){var r=t("../utils"),i=t("./GenericWorker");function s(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}r.inherits(s,i),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},e.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){var r=t("../utils"),i=t("./GenericWorker");function s(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}r.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,e,n){var r=t("../utils"),i=t("./ConvertWorker"),s=t("./GenericWorker"),a=t("../base64"),o=t("../support"),h=t("../external"),l=null;if(o.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function c(t,e,n){var a=e;switch(e){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=e,this._mimeType=n,r.checkSupport(a),this._worker=t.pipe(new i(a)),t.lock()}catch(t){this._worker=new s("error"),this._worker.error(t)}}c.prototype={accumulate:function(t){return function(t,e){return new h.Promise((function(n,i){var s=[],o=t._internalType,h=t._outputType,l=t._mimeType;t.on("data",(function(t,n){s.push(t),e&&e(n)})).on("error",(function(t){s=[],i(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return r.newBlob(r.transformTo("arraybuffer",e),n);case"base64":return a.encode(e);default:return r.transformTo(t,e)}}(h,function(t,e){var n,r=0,i=null,s=0;for(n=0;n<e.length;n++)s+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(s),n=0;n<e.length;n++)i.set(e[n],r),r+=e[n].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(o,s),l);n(t)}catch(t){i(t)}s=[]})).resume()}))}(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){r.delay(e,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){for(var r=t("./utils"),i=t("./support"),s=t("./nodejsUtils"),a=t("./stream/GenericWorker"),o=new Array(256),h=0;h<256;h++)o[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}o[254]=o[254]=1,n.utf8encode=function(t){return i.nodebuffer?s.newBufferFrom(t,"utf-8"):function(t){var e,n,r,s,a,o=t.length,h=0;for(s=0;s<o;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(h):new Array(h),s=a=0;a<h;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return i.nodebuffer?r.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,s,a=t.length,h=new Array(2*a);for(e=n=0;e<a;)if((i=t[e++])<128)h[n++]=i;else if(4<(s=o[i]))h[n++]=65533,e+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&e<a;)i=i<<6|63&t[e++],s--;1<s?h[n++]=65533:i<65536?h[n++]=i:(i-=65536,h[n++]=55296|i>>10&1023,h[n++]=56320|1023&i)}return h.length!==n&&(h.subarray?h=h.subarray(0,n):h.length=n),r.applyFromCharCode(h)}(t=r.transformTo(i.uint8array?"uint8array":"array",t))},r.inherits(l,a),l.prototype.processChunk=function(t){var e=r.transformTo(i.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var s=e;(e=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),e.set(s,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+o[t[n]]>e?n:e}(e),h=e;a!==e.length&&(i.uint8array?(h=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(h=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(h),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(c,a),c.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){var r=t("./support"),i=t("./base64"),s=t("./nodejsUtils"),a=t("./external");function o(t){return t}function h(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}t("setimmediate"),n.newBlob=function(t,e){n.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(t,e,n){var r=[],i=0,s=t.length;if(s<=n)return String.fromCharCode.apply(null,t);for(;i<s;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,s)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,s)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(t){return!1}}()}};function c(t){var e=65536,r=n.getTypeOf(t),i=!0;if("uint8array"===r?i=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return l.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return l.stringifyByChar(t)}function d(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=c;var u={};u.string={string:o,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return u.string.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:function(t){return h(t,s.allocBuffer(t.length))}},u.array={string:c,array:o,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(t)}},u.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:o,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(new Uint8Array(t))}},u.uint8array={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:o,nodebuffer:function(t){return s.newBufferFrom(t)}},u.nodebuffer={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return u.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:o},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var r=n.getTypeOf(e);return u[r][t](e)},n.resolve=function(t){for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var i=e[r];"."===i||""===i&&0!==r&&r!==e.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":r.nodebuffer&&s.isBuffer(t)?"nodebuffer":r.uint8array&&t instanceof Uint8Array?"uint8array":r.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!r[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},n.delay=function(t,e,n){setImmediate((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,s,o,l){return a.Promise.resolve(e).then((function(t){return r.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t})).then((function(e){var c=n.getTypeOf(e);return c?("arraybuffer"===c?e=n.transformTo("uint8array",e):"string"===c&&(l?e=i.decode(e):s&&!0!==o&&(e=function(t){return h(t,r.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,n){var r=t("./reader/readerFor"),i=t("./utils"),s=t("./signature"),a=t("./zipEntry"),o=t("./support");function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?"uint8array":"array",n=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(0<r)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){var r=t("./reader/readerFor"),i=t("./utils"),s=t("./compressedObject"),a=t("./crc32"),o=t("./utf8"),h=t("./compressions"),l=t("./support");function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in h)if(Object.prototype.hasOwnProperty.call(h,e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r};t.setIndex(i)},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var s=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){function r(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),a=t("./utf8"),o=t("./compressedObject"),h=t("./stream/GenericWorker");r.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(e=e.pipe(new a.Utf8EncodeWorker)),!s&&r&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new h("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new s(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)r.prototype[l[d]]=c;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){(function(t){var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var s=0,a=new i(c),o=t.document.createTextNode("");a.observe(o,{characterData:!0}),n=function(){o.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var h=new t.MessageChannel;h.port1.onmessage=c,n=function(){h.port2.postMessage(0)}}var l=[];function c(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}e.exports=function(t){1!==l.push(t)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){var r=t("immediate");function i(){}var s={},a=["REJECTED"],o=["FULFILLED"],h=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,t!==i&&f(this,t)}function c(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(t,e,n){r((function(){var r;try{r=e(n)}catch(r){return s.reject(t,r)}r===t?s.reject(t,new TypeError("Cannot resolve promise with itself")):s.resolve(t,r)}))}function u(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var n=!1;function r(e){n||(n=!0,s.reject(t,e))}function i(e){n||(n=!0,s.resolve(t,e))}var a=p((function(){e(i,r)}));"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=l).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===o||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(i);return this.state!==h?d(n,this.state===o?t:e,this.outcome):this.queue.push(new c(n,t,e)),n},c.prototype.callFulfilled=function(t){s.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){d(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){s.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){d(this.promise,this.onRejected,t)},s.resolve=function(t,e){var n=p(u,e);if("error"===n.status)return s.reject(t,n.value);var r=n.value;if(r)f(t,r);else{t.state=o,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},s.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:s.resolve(new this(i),t)},l.reject=function(t){var e=new this(i);return s.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),o=0,h=-1,l=new this(i);++h<n;)c(t[h],h);return l;function c(t,i){e.resolve(t).then((function(t){a[i]=t,++o!==n||r||(r=!0,s.resolve(l,a))}),(function(t){r||(r=!0,s.reject(l,t))}))}},l.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r,a=-1,o=new this(i);++a<e;)r=t[a],this.resolve(r).then((function(t){n||(n=!0,s.resolve(o,t))}),(function(t){n||(n=!0,s.reject(o,t))}));return o}},{immediate:36}],38:[function(t,e,n){var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){var r=t("./zlib/deflate"),i=t("./utils/common"),s=t("./utils/strings"),a=t("./zlib/messages"),o=t("./zlib/zstream"),h=Object.prototype.toString,l=0,c=-1,d=0,u=8;function f(t){if(!(this instanceof f))return new f(t);this.options=i.assign({level:c,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==l)throw new Error(a[n]);this._dict_set=!0}}function p(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(t,e){var n,a,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=s.string2buf(t):"[object ArrayBuffer]"===h.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(c),o.next_out=0,o.avail_out=c),1!==(n=r.deflate(o,a))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),!(o.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){var r=t("./zlib/inflate"),i=t("./utils/common"),s=t("./utils/strings"),a=t("./zlib/constants"),o=t("./zlib/messages"),h=t("./zlib/zstream"),l=t("./zlib/gzheader"),c=Object.prototype.toString;function d(t){if(!(this instanceof d))return new d(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&!(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(o[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function u(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}d.prototype.push=function(t,e){var n,o,h,l,d,u,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,_=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(u="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,u)),n===a.Z_BUF_ERROR&&!0===_&&(n=a.Z_OK,_=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(h=s.utf8border(f.output,f.next_out),l=f.next_out-h,d=s.buf2string(f.output,h),f.next_out=l,f.avail_out=p-l,l&&i.arraySet(f.output,f.output,h,l,0),this.onData(d)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(_=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=d,n.inflate=u,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},n.ungzip=u},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var s=0;s<r;s++)t[i+s]=e[n+s]},flattenChunks:function(t){var e,n,r,i,s,a;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),e=i=0,n=t.length;e<n;e++)s=t[e],a.set(s,i),i+=s.length;return a}},s={arraySet:function(t,e,n,r,i){for(var s=0;s<r;s++)t[i+s]=e[n+s]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],42:[function(t,e,n){var r=t("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new r.Buf8(256),o=0;o<256;o++)a[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function h(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,i,s,a,o=t.length,h=0;for(s=0;s<o;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(h),s=a=0;a<h;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return h(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,s,o=e||t.length,l=new Array(2*o);for(n=r=0;n<o;)if((i=t[n++])<128)l[r++]=i;else if(4<(s=a[i]))l[r++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&n<o;)i=i<<6|63&t[n++],s--;1<s?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return h(l,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){e.exports=function(t,e,n,r){for(var i=65535&t,s=t>>>16&65535,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;s=s+(i=i+e[r++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16}},{}],44:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,i){var s=r,a=i+n;t^=-1;for(var o=i;o<a;o++)t=t>>>8^s[255&(t^e[o])];return~t}},{}],46:[function(t,e,n){var r,i=t("../utils/common"),s=t("./trees"),a=t("./adler32"),o=t("./crc32"),h=t("./messages"),l=0,c=0,d=-2,u=2,f=8,p=286,m=30,_=19,g=2*p+1,v=15,b=3,w=258,y=w+b+1,k=42,x=113;function z(t,e){return t.msg=h[e],e}function E(t){return(t<<1)-(4<t?9:0)}function A(t){for(var e=t.length;0<=--e;)t[e]=0}function C(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function S(t,e){s._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,C(t.strm)}function R(t,e){t.pending_buf[t.pending++]=e}function T(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function I(t,e){var n,r,i=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-y?t.strstart-(t.w_size-y):0,l=t.window,c=t.w_mask,d=t.prev,u=t.strstart+w,f=l[s+a-1],p=l[s+a];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(l[(n=e)+a]===p&&l[n+a-1]===f&&l[n]===l[s]&&l[++n]===l[s+1]){s+=2,n++;do{}while(l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&s<u);if(r=w-(u-s),s=u-w,a<r){if(t.match_start=e,o<=(a=r))break;f=l[s+a-1],p=l[s+a]}}}while((e=d[e&c])>h&&0!=--i);return a<=t.lookahead?a:t.lookahead}function O(t){var e,n,r,s,h,l,c,d,u,f,p=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-y)){for(i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;r=t.head[--e],t.head[e]=p<=r?r-p:0,--n;);for(e=n=p;r=t.prev[--e],t.prev[e]=p<=r?r-p:0,--n;);s+=p}if(0===t.strm.avail_in)break;if(l=t.strm,c=t.window,d=t.strstart+t.lookahead,f=void 0,(u=s)<(f=l.avail_in)&&(f=u),n=0===f?0:(l.avail_in-=f,i.arraySet(c,l.input,l.next_in,f,d),1===l.state.wrap?l.adler=a(l.adler,c,f,d):2===l.state.wrap&&(l.adler=o(l.adler,c,f,d)),l.next_in+=f,l.total_in+=f,f),t.lookahead+=n,t.lookahead+t.insert>=b)for(h=t.strstart-t.insert,t.ins_h=t.window[h],t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+b-1])&t.hash_mask,t.prev[h&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=h,h++,t.insert--,!(t.lookahead+t.insert<b)););}while(t.lookahead<y&&0!==t.strm.avail_in)}function D(t,e){for(var n,r;;){if(t.lookahead<y){if(O(t),t.lookahead<y&&e===l)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=b&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+b-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-y&&(t.match_length=I(t,n)),t.match_length>=b)if(r=s._tr_tally(t,t.strstart-t.match_start,t.match_length-b),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=b){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+b-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(S(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<b-1?t.strstart:b-1,4===e?(S(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(S(t,!1),0===t.strm.avail_out)?1:2}function L(t,e){for(var n,r,i;;){if(t.lookahead<y){if(O(t),t.lookahead<y&&e===l)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=b&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+b-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=b-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-y&&(t.match_length=I(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===b&&4096<t.strstart-t.match_start)&&(t.match_length=b-1)),t.prev_length>=b&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-b,r=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-b),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+b-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=b-1,t.strstart++,r&&(S(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=s._tr_tally(t,0,t.window[t.strstart-1]))&&S(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<b-1?t.strstart:b-1,4===e?(S(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(S(t,!1),0===t.strm.avail_out)?1:2}function B(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*g),this.dyn_dtree=new i.Buf16(2*(2*m+1)),this.bl_tree=new i.Buf16(2*(2*_+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(v+1),this.heap=new i.Buf16(2*p+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*p+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=u,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?k:x,t.adler=2===e.wrap?0:1,e.last_flush=l,s._tr_init(e),c):z(t,d)}function N(t){var e=F(t);return e===c&&function(t){t.window_size=2*t.w_size,A(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=b-1,t.match_available=0,t.ins_h=0}(t.state),e}function j(t,e,n,r,s,a){if(!t)return d;var o=1;if(-1===e&&(e=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),s<1||9<s||n!==f||r<8||15<r||e<0||9<e||a<0||4<a)return z(t,d);8===r&&(r=9);var h=new U;return(t.state=h).strm=t,h.wrap=o,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=s+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+b-1)/b),h.window=new i.Buf8(2*h.w_size),h.head=new i.Buf16(h.hash_size),h.prev=new i.Buf16(h.w_size),h.lit_bufsize=1<<s+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new i.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=a,h.method=n,N(t)}r=[new B(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(O(t),0===t.lookahead&&e===l)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,S(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-y&&(S(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(S(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(S(t,!1),t.strm.avail_out),1)})),new B(4,4,8,4,D),new B(4,5,16,8,D),new B(4,6,32,32,D),new B(4,4,16,16,L),new B(8,16,32,32,L),new B(8,16,128,128,L),new B(8,32,128,256,L),new B(32,128,258,1024,L),new B(32,258,258,4096,L)],n.deflateInit=function(t,e){return j(t,e,f,15,8,0)},n.deflateInit2=j,n.deflateReset=N,n.deflateResetKeep=F,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?d:(t.state.gzhead=e,c):d},n.deflate=function(t,e){var n,i,a,h;if(!t||!t.state||5<e||e<0)return t?z(t,d):d;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return z(t,0===t.avail_out?-5:d);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===k)if(2===i.wrap)t.adler=0,R(i,31),R(i,139),R(i,8),i.gzhead?(R(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),R(i,255&i.gzhead.time),R(i,i.gzhead.time>>8&255),R(i,i.gzhead.time>>16&255),R(i,i.gzhead.time>>24&255),R(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),R(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(R(i,255&i.gzhead.extra.length),R(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=o(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(R(i,0),R(i,0),R(i,0),R(i,0),R(i,0),R(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),R(i,3),i.status=x);else{var u=f+(i.w_bits-8<<4)<<8;u|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=x,T(i,u),0!==i.strstart&&(T(i,t.adler>>>16),T(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),C(t),a=i.pending,i.pending!==i.pending_buf_size));)R(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),C(t),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,R(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),C(t),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,R(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(t.adler=o(t.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&C(t),i.pending+2<=i.pending_buf_size&&(R(i,255&t.adler),R(i,t.adler>>8&255),t.adler=0,i.status=x)):i.status=x),0!==i.pending){if(C(t),0===t.avail_out)return i.last_flush=-1,c}else if(0===t.avail_in&&E(e)<=E(n)&&4!==e)return z(t,-5);if(666===i.status&&0!==t.avail_in)return z(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var p=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(O(t),0===t.lookahead)){if(e===l)return 1;break}if(t.match_length=0,n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(S(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(S(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(S(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,o=t.window;;){if(t.lookahead<=w){if(O(t),t.lookahead<=w&&e===l)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=b&&0<t.strstart&&(r=o[i=t.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=t.strstart+w;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);t.match_length=w-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=b?(n=s._tr_tally(t,1,t.match_length-b),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(S(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(S(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(S(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==p&&4!==p||(i.status=666),1===p||3===p)return 0===t.avail_out&&(i.last_flush=-1),c;if(2===p&&(1===e?s._tr_align(i):5!==e&&(s._tr_stored_block(i,0,0,!1),3===e&&(A(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),C(t),0===t.avail_out))return i.last_flush=-1,c}return 4!==e?c:i.wrap<=0?1:(2===i.wrap?(R(i,255&t.adler),R(i,t.adler>>8&255),R(i,t.adler>>16&255),R(i,t.adler>>24&255),R(i,255&t.total_in),R(i,t.total_in>>8&255),R(i,t.total_in>>16&255),R(i,t.total_in>>24&255)):(T(i,t.adler>>>16),T(i,65535&t.adler)),C(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?c:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==k&&69!==e&&73!==e&&91!==e&&103!==e&&e!==x&&666!==e?z(t,d):(t.state=null,e===x?z(t,-3):c):d},n.deflateSetDictionary=function(t,e){var n,r,s,o,h,l,u,f,p=e.length;if(!t||!t.state)return d;if(2===(o=(n=t.state).wrap)||1===o&&n.status!==k||n.lookahead)return d;for(1===o&&(t.adler=a(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===o&&(A(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,p-n.w_size,n.w_size,0),e=f,p=n.w_size),h=t.avail_in,l=t.next_in,u=t.input,t.avail_in=p,t.next_in=0,t.input=e,O(n);n.lookahead>=b;){for(r=n.strstart,s=n.lookahead-(b-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+b-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--s;);n.strstart=r,n.lookahead=b-1,O(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=b-1,n.match_available=0,t.next_in=l,t.input=u,t.avail_in=h,n.wrap=o,c},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){e.exports=function(t,e){var n,r,i,s,a,o,h,l,c,d,u,f,p,m,_,g,v,b,w,y,k,x,z,E,A;n=t.state,r=t.next_in,E=t.input,i=r+(t.avail_in-5),s=t.next_out,A=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=n.dmax,l=n.wsize,c=n.whave,d=n.wnext,u=n.window,f=n.hold,p=n.bits,m=n.lencode,_=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(f+=E[r++]<<p,p+=8,f+=E[r++]<<p,p+=8),b=m[f&g];e:for(;;){if(f>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))A[s++]=65535&b;else{if(!(16&w)){if(!(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}y=65535&b,(w&=15)&&(p<w&&(f+=E[r++]<<p,p+=8),y+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=E[r++]<<p,p+=8,f+=E[r++]<<p,p+=8),b=_[f&v];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(!(64&w)){b=_[(65535&b)+(f&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&b,p<(w&=15)&&(f+=E[r++]<<p,(p+=8)<w&&(f+=E[r++]<<p,p+=8)),h<(k+=f&(1<<w)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=w,p-=w,(w=s-a)<k){if(c<(w=k-w)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(z=u,(x=0)===d){if(x+=l-w,w<y){for(y-=w;A[s++]=u[x++],--w;);x=s-k,z=A}}else if(d<w){if(x+=l+d-w,(w-=d)<y){for(y-=w;A[s++]=u[x++],--w;);if(x=0,d<y){for(y-=w=d;A[s++]=u[x++],--w;);x=s-k,z=A}}}else if(x+=d-w,w<y){for(y-=w;A[s++]=u[x++],--w;);x=s-k,z=A}for(;2<y;)A[s++]=z[x++],A[s++]=z[x++],A[s++]=z[x++],y-=3;y&&(A[s++]=z[x++],1<y&&(A[s++]=z[x++]))}else{for(x=s-k;A[s++]=A[x++],A[s++]=A[x++],A[s++]=A[x++],2<(y-=3););y&&(A[s++]=A[x++],1<y&&(A[s++]=A[x++]))}break}}break}}while(r<i&&s<o);r-=y=p>>3,f&=(1<<(p-=y<<3))-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=s<o?o-s+257:257-(s-o),n.hold=f,n.bits=p}},{}],49:[function(t,e,n){var r=t("../utils/common"),i=t("./adler32"),s=t("./crc32"),a=t("./inffast"),o=t("./inftrees"),h=0,l=-2,c=1,d=852,u=592;function f(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=c,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(d),e.distcode=e.distdyn=new r.Buf32(u),e.sane=1,e.back=-1,h):l}function _(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,m(t)):l}function g(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,_(t))):l}function v(t,e){var n,r;return t?(r=new p,(t.state=r).window=null,(n=g(t,e))!==h&&(t.state=null),n):l}var b,w,y=!0;function k(t){if(y){var e;for(b=new r.Buf32(512),w=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,b,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,w,0,t.work,{bits:5}),y=!1}t.lencode=b,t.lenbits=9,t.distcode=w,t.distbits=5}function x(t,e,n,i){var s,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(s=a.wsize-a.wnext)&&(s=i),r.arraySet(a.window,e,n-i,s,a.wnext),(i-=s)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}n.inflateReset=_,n.inflateReset2=g,n.inflateResetKeep=m,n.inflateInit=function(t){return v(t,15)},n.inflateInit2=v,n.inflate=function(t,e){var n,d,u,p,m,_,g,v,b,w,y,z,E,A,C,S,R,T,I,O,D,L,B,U,F=0,N=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(n=t.state).mode&&(n.mode=13),m=t.next_out,u=t.output,g=t.avail_out,p=t.next_in,d=t.input,_=t.avail_in,v=n.hold,b=n.bits,w=_,y=g,L=h;t:for(;;)switch(n.mode){case c:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(2&n.wrap&&35615===v){N[n.check=0]=255&v,N[1]=v>>>8&255,n.check=s(n.check,N,2,0),b=v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&v)){t.msg="unknown compression method",n.mode=30;break}if(b-=4,D=8+(15&(v>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,t.adler=n.check=1,n.mode=512&v?10:12,b=v=0;break;case 2:for(;b<16;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(n.flags=v,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(N[0]=255&v,N[1]=v>>>8&255,n.check=s(n.check,N,2,0)),b=v=0,n.mode=3;case 3:for(;b<32;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}n.head&&(n.head.time=v),512&n.flags&&(N[0]=255&v,N[1]=v>>>8&255,N[2]=v>>>16&255,N[3]=v>>>24&255,n.check=s(n.check,N,4,0)),b=v=0,n.mode=4;case 4:for(;b<16;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(N[0]=255&v,N[1]=v>>>8&255,n.check=s(n.check,N,2,0)),b=v=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(N[0]=255&v,N[1]=v>>>8&255,n.check=s(n.check,N,2,0)),b=v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(_<(z=n.length)&&(z=_),z&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,p,z,D)),512&n.flags&&(n.check=s(n.check,d,z,p)),_-=z,p+=z,n.length-=z),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===_)break t;for(z=0;D=d[p+z++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&z<_;);if(512&n.flags&&(n.check=s(n.check,d,z,p)),_-=z,p+=z,D)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===_)break t;for(z=0;D=d[p+z++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&z<_;);if(512&n.flags&&(n.check=s(n.check,d,z,p)),_-=z,p+=z,D)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(v!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}b=v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}t.adler=n.check=f(v),b=v=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=m,t.avail_out=g,t.next_in=p,t.avail_in=_,n.hold=v,n.bits=b,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){v>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}switch(n.last=1&v,b-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(k(n),n.mode=20,6!==e)break;v>>>=2,b-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}v>>>=2,b-=2;break;case 14:for(v>>>=7&b,b-=7&b;b<32;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,b=v=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(z=n.length){if(_<z&&(z=_),g<z&&(z=g),0===z)break t;r.arraySet(u,d,p,z,m),_-=z,p+=z,g-=z,m+=z,n.length-=z;break}n.mode=12;break;case 17:for(;b<14;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(n.nlen=257+(31&v),v>>>=5,b-=5,n.ndist=1+(31&v),v>>>=5,b-=5,n.ncode=4+(15&v),v>>>=4,b-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}n.lens[j[n.have++]]=7&v,v>>>=3,b-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},L=o(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,L){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(F=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,R=65535&F,!((C=F>>>24)<=b);){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(R<16)v>>>=C,b-=C,n.lens[n.have++]=R;else{if(16===R){for(U=C+2;b<U;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(v>>>=C,b-=C,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],z=3+(3&v),v>>>=2,b-=2}else if(17===R){for(U=C+3;b<U;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}b-=C,D=0,z=3+(7&(v>>>=C)),v>>>=3,b-=3}else{for(U=C+7;b<U;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}b-=C,D=0,z=11+(127&(v>>>=C)),v>>>=7,b-=7}if(n.have+z>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;z--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},L=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,L){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},L=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,L){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=_&&258<=g){t.next_out=m,t.avail_out=g,t.next_in=p,t.avail_in=_,n.hold=v,n.bits=b,a(t,y),m=t.next_out,u=t.output,g=t.avail_out,p=t.next_in,d=t.input,_=t.avail_in,v=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(F=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,R=65535&F,!((C=F>>>24)<=b);){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(S&&!(240&S)){for(T=C,I=S,O=R;S=(F=n.lencode[O+((v&(1<<T+I)-1)>>T)])>>>16&255,R=65535&F,!(T+(C=F>>>24)<=b);){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}v>>>=T,b-=T,n.back+=T}if(v>>>=C,b-=C,n.back+=C,n.length=R,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(U=n.extra;b<U;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(F=n.distcode[v&(1<<n.distbits)-1])>>>16&255,R=65535&F,!((C=F>>>24)<=b);){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(!(240&S)){for(T=C,I=S,O=R;S=(F=n.distcode[O+((v&(1<<T+I)-1)>>T)])>>>16&255,R=65535&F,!(T+(C=F>>>24)<=b);){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}v>>>=T,b-=T,n.back+=T}if(v>>>=C,b-=C,n.back+=C,64&S){t.msg="invalid distance code",n.mode=30;break}n.offset=R,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(U=n.extra;b<U;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break t;if(z=y-g,n.offset>z){if((z=n.offset-z)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}E=z>n.wnext?(z-=n.wnext,n.wsize-z):n.wnext-z,z>n.length&&(z=n.length),A=n.window}else A=u,E=m-n.offset,z=n.length;for(g<z&&(z=g),g-=z,n.length-=z;u[m++]=A[E++],--z;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;u[m++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===_)break t;_--,v|=d[p++]<<b,b+=8}if(y-=g,t.total_out+=y,n.total+=y,y&&(t.adler=n.check=n.flags?s(n.check,u,y,m-y):i(n.check,u,y,m-y)),y=g,(n.flags?v:f(v))!==n.check){t.msg="incorrect data check",n.mode=30;break}b=v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===_)break t;_--,v+=d[p++]<<b,b+=8}if(v!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}b=v=0}n.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;default:return l}return t.next_out=m,t.avail_out=g,t.next_in=p,t.avail_in=_,n.hold=v,n.bits=b,(n.wsize||y!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&x(t,t.output,t.next_out,y-t.avail_out)?(n.mode=31,-4):(w-=t.avail_in,y-=t.avail_out,t.total_in+=w,t.total_out+=y,n.total+=y,n.wrap&&y&&(t.adler=n.check=n.flags?s(n.check,u,y,t.next_out-y):i(n.check,u,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===y||4===e)&&L===h&&(L=-5),L)},n.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,h},n.inflateGetHeader=function(t,e){var n;return t&&t.state&&2&(n=t.state).wrap?((n.head=e).done=!1,h):l},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,e,r,0)!==n.check?-3:x(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,h):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,h,l,c,d,u){var f,p,m,_,g,v,b,w,y,k=u.bits,x=0,z=0,E=0,A=0,C=0,S=0,R=0,T=0,I=0,O=0,D=null,L=0,B=new r.Buf16(16),U=new r.Buf16(16),F=null,N=0;for(x=0;x<=15;x++)B[x]=0;for(z=0;z<h;z++)B[e[n+z]]++;for(C=k,A=15;1<=A&&0===B[A];A--);if(A<C&&(C=A),0===A)return l[c++]=20971520,l[c++]=20971520,u.bits=1,0;for(E=1;E<A&&0===B[E];E++);for(C<E&&(C=E),x=T=1;x<=15;x++)if(T<<=1,(T-=B[x])<0)return-1;if(0<T&&(0===t||1!==A))return-1;for(U[1]=0,x=1;x<15;x++)U[x+1]=U[x]+B[x];for(z=0;z<h;z++)0!==e[n+z]&&(d[U[e[n+z]]++]=z);if(v=0===t?(D=F=d,19):1===t?(D=i,L-=257,F=s,N-=257,256):(D=a,F=o,-1),x=E,g=c,R=z=O=0,m=-1,_=(I=1<<(S=C))-1,1===t&&852<I||2===t&&592<I)return 1;for(;;){for(b=x-R,y=d[z]<v?(w=0,d[z]):d[z]>v?(w=F[N+d[z]],D[L+d[z]]):(w=96,0),f=1<<x-R,E=p=1<<S;l[g+(O>>R)+(p-=f)]=b<<24|w<<16|y,0!==p;);for(f=1<<x-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,z++,0==--B[x]){if(x===A)break;x=e[n+d[z]]}if(C<x&&(O&_)!==m){for(0===R&&(R=C),g+=E,T=1<<(S=x-R);S+R<A&&!((T-=B[S+R])<=0);)S++,T<<=1;if(I+=1<<S,1===t&&852<I||2===t&&592<I)return 1;l[m=O&_]=C<<24|S<<16|g-c}}return 0!==O&&(l[g+O]=x-R<<24|64<<16),u.bits=C,0}},{"../utils/common":41}],51:[function(t,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){var r=t("../utils/common");function i(t){for(var e=t.length;0<=--e;)t[e]=0}var s=256,a=286,o=30,h=15,l=16,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var m=new Array(60);i(m);var _=new Array(512);i(_);var g=new Array(256);i(g);var v=new Array(29);i(v);var b,w,y,k=new Array(o);function x(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function z(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function E(t){return t<256?_[t]:_[256+(t>>>7)]}function A(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function C(t,e,n){t.bi_valid>l-n?(t.bi_buf|=e<<t.bi_valid&65535,A(t,t.bi_buf),t.bi_buf=e>>l-t.bi_valid,t.bi_valid+=n-l):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function S(t,e,n){C(t,n[2*e],n[2*e+1])}function R(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function T(t,e,n){var r,i,s=new Array(h+1),a=0;for(r=1;r<=h;r++)s[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var o=t[2*i+1];0!==o&&(t[2*i]=R(s[o]++,o))}}function I(t){var e;for(e=0;e<a;e++)t.dyn_ltree[2*e]=0;for(e=0;e<o;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function O(t){8<t.bi_valid?A(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function D(t,e,n,r){var i=2*e,s=2*n;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]}function L(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&D(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!D(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function B(t,e,n){var r,i,a,o,h=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],i=t.pending_buf[t.l_buf+h],h++,0===r?S(t,i,e):(S(t,(a=g[i])+s+1,e),0!==(o=c[a])&&C(t,i-=v[a],o),S(t,a=E(--r),n),0!==(o=d[a])&&C(t,r-=k[a],o)),h<t.last_lit;);S(t,256,e)}function U(t,e){var n,r,i,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==s[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):s[2*n+1]=0;for(;t.heap_len<2;)s[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,o&&(t.static_len-=a[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;1<=n;n--)L(t,s,n);for(i=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],L(t,s,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,s[2*i]=s[2*n]+s[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,s[2*n+1]=s[2*r+1]=i,t.heap[1]=i++,L(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,s,a,o,l=e.dyn_tree,c=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,m=e.stat_desc.max_length,_=0;for(s=0;s<=h;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)m<(s=l[2*l[2*(r=t.heap[n])+1]+1]+1)&&(s=m,_++),l[2*r+1]=s,c<r||(t.bl_count[s]++,a=0,p<=r&&(a=f[r-p]),o=l[2*r],t.opt_len+=o*(s+a),u&&(t.static_len+=o*(d[2*r+1]+a)));if(0!==_){do{for(s=m-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[m]--,_-=2}while(0<_);for(s=m;0!==s;s--)for(r=t.bl_count[s];0!==r;)c<(i=t.heap[--n])||(l[2*i+1]!==s&&(t.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),r--)}}(t,e),T(s,c,t.bl_count)}function F(t,e,n){var r,i,s=-1,a=e[1],o=0,h=7,l=4;for(0===a&&(h=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++o<h&&i===a||(o<l?t.bl_tree[2*i]+=o:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=i,l=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function N(t,e,n){var r,i,s=-1,a=e[1],o=0,h=7,l=4;for(0===a&&(h=138,l=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++o<h&&i===a)){if(o<l)for(;S(t,i,t.bl_tree),0!=--o;);else 0!==i?(i!==s&&(S(t,i,t.bl_tree),o--),S(t,16,t.bl_tree),C(t,o-3,2)):o<=10?(S(t,17,t.bl_tree),C(t,o-3,3)):(S(t,18,t.bl_tree),C(t,o-11,7));s=i,l=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}i(k);var j=!1;function M(t,e,n,i){C(t,0+(i?1:0),3),function(t,e,n){O(t),A(t,n),A(t,~n),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){j||(function(){var t,e,n,r,i,s=new Array(h+1);for(r=n=0;r<28;r++)for(v[r]=n,t=0;t<1<<c[r];t++)g[n++]=r;for(g[n-1]=r,r=i=0;r<16;r++)for(k[r]=i,t=0;t<1<<d[r];t++)_[i++]=r;for(i>>=7;r<o;r++)for(k[r]=i<<7,t=0;t<1<<d[r]-7;t++)_[256+i++]=r;for(e=0;e<=h;e++)s[e]=0;for(t=0;t<=143;)p[2*t+1]=8,t++,s[8]++;for(;t<=255;)p[2*t+1]=9,t++,s[9]++;for(;t<=279;)p[2*t+1]=7,t++,s[7]++;for(;t<=287;)p[2*t+1]=8,t++,s[8]++;for(T(p,287,s),t=0;t<o;t++)m[2*t+1]=5,m[2*t]=R(t,5);b=new x(p,c,257,a,h),w=new x(m,d,0,o,h),y=new x(new Array(0),u,0,19,7)}(),j=!0),t.l_desc=new z(t.dyn_ltree,b),t.d_desc=new z(t.dyn_dtree,w),t.bl_desc=new z(t.bl_tree,y),t.bi_buf=0,t.bi_valid=0,I(t)},n._tr_stored_block=M,n._tr_flush_block=function(t,e,n,r){var i,a,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<s;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),U(t,t.l_desc),U(t,t.d_desc),o=function(t){var e;for(F(t,t.dyn_ltree,t.l_desc.max_code),F(t,t.dyn_dtree,t.d_desc.max_code),U(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*f[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?M(t,e,n,r):4===t.strategy||a===i?(C(t,2+(r?1:0),3),B(t,p,m)):(C(t,4+(r?1:0),3),function(t,e,n,r){var i;for(C(t,e-257,5),C(t,n-1,5),C(t,r-4,4),i=0;i<r;i++)C(t,t.bl_tree[2*f[i]+1],3);N(t,t.dyn_ltree,e-1),N(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),B(t,t.dyn_ltree,t.dyn_dtree)),I(t),r&&O(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(g[n]+s+1)]++,t.dyn_dtree[2*E(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){C(t,2,3),S(t,256,p),function(t){16===t.bi_valid?(A(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){(function(t){!function(t,e){if(!t.setImmediate){var n,r,i,s,a=1,o={},h=!1,l=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,n="[object process]"==={}.toString.call(t.process)?function(t){process.nextTick((function(){u(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(s="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",f,!1):t.attachEvent("onmessage",f),function(e){t.postMessage(s+e,"*")}):t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){u(t.data)},function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,function(t){var e=l.createElement("script");e.onreadystatechange=function(){u(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):function(t){setTimeout(u,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return o[a]=i,n(a),a++},c.clearImmediate=d}function d(t){delete o[t]}function u(t){if(h)setTimeout(u,0,t);else{var n=o[t];if(n){h=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}(n)}finally{d(t),h=!1}}}}function f(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&u(+e.data.slice(s.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},478:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var s={},a=[],o=0;o<t.length;o++){var h=t[o],l=r.base?h[0]+r.base:h[0],c=s[l]||0,d="".concat(l," ").concat(c);s[l]=c+1;var u=n(d),f={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==u)e[u].references++,e[u].updater(f);else{var p=i(f,r);r.byIndex=o,e.splice(o,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var s=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var o=n(s[a]);e[o].references--}for(var h=r(t,i),l=0;l<s.length;l++){var c=n(s[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=h}}},301:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},626:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},222:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},135:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},279:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var r=n(478),i=n.n(r),s=n(135),a=n.n(s),o=n(301),h=n.n(o),l=n(222),c=n.n(l),d=n(626),u=n.n(d),f=n(279),p=n.n(f),m=n(659),_={};_.styleTagTransform=p(),_.setAttributes=c(),_.insert=h().bind(null,"head"),_.domAPI=a(),_.insertStyleElement=u(),i()(m.A,_),m.A&&m.A.locals&&m.A.locals;class g{static Image(t,e,n=[],r=[]){if(1!=(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas))return;const[i=0,s=0,a=e.width,o=e.height]=Array.isArray(n)?n:[],[h=0,l=0,c=e.width,d=e.height]=Array.isArray(r)?r:[];try{t.drawImage(e,i,s,a,o,h,l,c,d)}catch(t){}}static text(t,e,{x:n,y:r,w:i}){n|=0,r|=0,t.fillText(e,n,r,i)}static circle(t,e){let{x:n=0,y:r=0,radius:i=10,percent:s,stroke:a,strokeWidth:o}=e;if("number"==typeof s){const e=t.fillStyle;i/=2,t.save(),t.beginPath();let a=.02*s+1.5;a>2&&(a-=2),t.arc(n,r,i,a*Math.PI,1.5*Math.PI,!1),t.fillStyle="transparent",t.fill(),t.lineWidth=null!=o?o:2*(i-.3),t.strokeStyle=e,t.stroke(),t.restore()}else t.save(),t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.fill(),"string"==typeof a&&("number"==typeof o&&(t.lineWidth=o),t.strokeStyle=a,t.stroke()),t.restore()}}function v(t){return"number"==typeof(null==t?void 0:t.z)?`(${t.x}, ${t.y}, ${t.z})`:`(${t.x}, ${t.y})`}class b{constructor(){this.map=new Map}set(t,e){this.map.set(v(t),[t,e])}get(t){var e;return null===(e=this.map.get(v(t)))||void 0===e?void 0:e[1]}has(t){return this.map.has(v(t))}delete(t){return this.map.delete(v(t))}clear(){this.map.clear()}keys(){return Array.from(this.map.values()).map((([t])=>t))}values(){return Array.from(this.map.values()).map((([t,e])=>e))}entries(){return Array.from(this.map.values())}get size(){return this.map.size}}class w{static equals(t,e){return t instanceof w&&e instanceof w&&t.x===e.x&&t.y===e.y}constructor(t=0,e=0){this.x=t,this.y=e}get valid(){return"number"==typeof this.x&&"number"==typeof this.y}copy(){return new w(this.x,this.y)}move(t,e){let n=t;return n instanceof w?(this.x+=n.x,this.y+=n.y):"number"==typeof t&&"number"==typeof e&&(this.x+=t,this.y+=e),this}}(new class extends b{}).set({x:5,y:5},0);class y{constructor(t){this.all=new Map,t instanceof Map?this.all=t:Array.isArray(t)&&(this.all=new Map(t))}on(t,e){const n=this.all.get(t);return n?n.push(e):this.all.set(t,[e]),this}off(t,e){const n=this.all.get(t);if(n)if(e){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else this.all.set(t,[]);return this}emit(t,...e){let n=this.all.get(t);if(n)for(const t of n.slice())t(...e);if(n=this.all.get("*"))for(const r of n.slice())r(t,...e);return this}*[Symbol.iterator](){for(const t of this.all.entries())yield t}}class k{constructor(t){this.canvas=document.createElement("canvas"),this.color="black",this.x=0,this.y=0,this.w=0,this.h=0,this.ctx=t.ctx,null!=t.canvas&&(this.canvas=t.canvas),"string"==typeof t.color&&(this.color=t.color),"number"==typeof t.x&&(this.x=t.x),"number"==typeof t.y&&(this.y=t.y),"number"==typeof t.w&&(this.w=t.w),"number"==typeof t.h&&(this.h=t.h)}get rect(){return[this.x,this.y,this.w,this.h]}}class x{constructor(t){this.stack=[],this.stack.push(new k({canvas:t.canvas,ctx:t.ctx}))}x(t){return this.recentConfig.x=t,this}y(t){return this.recentConfig.y=t,this}w(t){return this.recentConfig.w=t,this}h(t){return this.recentConfig.h=t,this}pos(t,e){const n=this.recentConfig;return"number"==typeof t&&(n.x=t),"number"==typeof e&&(n.y=e),this}size(t,e=t){const n=this.recentConfig;return"number"==typeof t&&(n.w=t),"number"==typeof e&&(n.h=e),this}get recentConfig(){return this.stack[this.stack.length-1]}get canvas(){return this.recentConfig.canvas}get ctx(){return this.recentConfig.ctx}rotate(t,e){var n,r;const i=this.recentConfig;return"object"!=typeof e&&(e={x:i.w/2,y:i.h/2}),null!==(n=e.x)&&void 0!==n||(e.x=i.w/2),null!==(r=e.y)&&void 0!==r||(e.y=i.h/2),this.ctx.translate(i.x+e.x,i.y+e.y),this.ctx.rotate(t*Math.PI/180),i.x=-e.x,i.y=-e.y,this}opacity(t){return this.ctx.globalAlpha=t,this}image(t,e,n=this.recentConfig.rect){return g.Image(this.ctx,t,e,n),this}imageFrom(t,e){return g.Image(this.ctx,t,this.recentConfig.rect,e),this}text(t){const[e,n]=this.recentConfig.rect;return g.text(this.ctx,t,{x:e,y:n}),this}textWidth(t){return this.ctx.measureText(t).width}circle(t){const[e,n,r]=this.recentConfig.rect;return g.circle(this.ctx,Object.assign({x:e,y:n,radius:r},t)),this}rendering(t="source-over"){return this.ctx.globalCompositeOperation=t,this}color(t){return this.ctx.fillStyle=t,this}font(t){return this.ctx.font=t,this}generatedFont({font:t="Arial",weight:e="normal",size:n=16}={}){return this.font(`${e} ${n}px ${t}`)}get rect(){return this.ctx.fillRect(...this.recentConfig.rect),this}get blank(){const t=this.recentConfig;this.save;const e=this.recentConfig;e.canvas=document.createElement("canvas"),e.canvas.width=t.canvas.width,e.canvas.height=t.canvas.height;const n=e.canvas.getContext("2d");return null!=n&&(e.ctx=n),this}get merge(){const t=this.recentConfig,e=this.stack[this.stack.length-1];return g.Image(e.ctx,t.canvas,void 0,e.rect),this.restore}get save(){return this.ctx.save(),this.stack.push(new k(this.recentConfig)),this}get restore(){return this.ctx.restore(),this.stack.pop(),this}ref(t){return t(this),this}get flipX(){const t=this.recentConfig;return this.ctx.scale(-1,1),t.x=-1*t.x-t.w,this}get flipY(){const t=this.recentConfig;return this.ctx.scale(1,-1),t.y=-1*t.y-t.h,this}canvasSize(t,e){const n=this.ctx.imageSmoothingEnabled;return this.canvas.width=t,this.canvas.height=e,this.size(t,e),this.ctx.imageSmoothingEnabled=n,this}get clear(){return this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this}clearRect(){return this.ctx.clearRect(...this.recentConfig.rect),this}get imgUrl(){return this.canvas.toDataURL()}}const z={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let E;const A=new Uint8Array(16);function C(){if(!E&&(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!E))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(A)}const S=[];for(let t=0;t<256;++t)S.push((t+256).toString(16).slice(1));const R=function(t,e,n){if(z.randomUUID&&!e&&!t)return z.randomUUID();const r=(t=t||{}).random||(t.rng||C)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return S[t[e+0]]+S[t[e+1]]+S[t[e+2]]+S[t[e+3]]+"-"+S[t[e+4]]+S[t[e+5]]+"-"+S[t[e+6]]+S[t[e+7]]+"-"+S[t[e+8]]+S[t[e+9]]+"-"+S[t[e+10]]+S[t[e+11]]+S[t[e+12]]+S[t[e+13]]+S[t[e+14]]+S[t[e+15]]}(r)};class T{static rect(t,e){return t.x+t.width>e.x&&t.x<e.x+e.width&&t.y+t.height>e.y&&t.y<e.y+e.height}static rectContains(t,e){const n=t.width+t.x||t.x,r=t.height+t.y||t.y,i=e.width||0+e.x||e.x,s=e.height||0+e.y||e.y;return t.x<=e.x&&n>=i&&t.y<=e.y&&r>=s}static circle(t,e){const n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(n*n+r*r)<t.r+e.r}}class I{constructor(t=document.body){this.events=new y,this.pos=new w,this.down=!1,this.button=-1,this.context={},this.release={},this.click={},this.start={x:0,y:0},this.end={x:0,y:0},this.startTime=0,this.on={click:t=>t.preventDefault(),contextmenu:t=>t.preventDefault(),mousemove:t=>t instanceof MouseEvent&&this.events.emit("move",t.clientX,t.clientY),touchmove:t=>t instanceof TouchEvent&&this.events.emit("move",t.touches[0].clientX,t.touches[0].clientY),mouseup:t=>this.events.emit("end",t),touchend:t=>t instanceof TouchEvent&&this.events.emit("end",t.changedTouches[0]),mousedown:t=>this.events.emit("start",t),touchstart:t=>t instanceof TouchEvent&&this.events.emit("start",t.touches[0])},this.object=t;for(const[e,n]of Object.entries(this.on))t.addEventListener(e,n.bind(this));this.reInit()}reInit(){this.events.all.clear(),this.events.on("move",((t,e)=>{this.pos=this.getPos(t,e)})),this.events.on("start",(t=>this.onStart(t))),this.events.on("end",(t=>this.onEnd(t)))}getPos(t,e){const{object:n}=this,{top:r,bottom:i,left:s,right:a,width:o,height:h}=n.getBoundingClientRect();return new w(Math.floor((t-s)/(a-s)*o),Math.floor((e-r)/(i-r)*h))}onStart(t){if(this.startTime=performance.now(),setTimeout((()=>{window.TouchEvent&&t instanceof Touch&&(1==this.down?this.events.emit("context"):this.events.emit("click",t,this))}),500),t instanceof Touch!=1){switch(t.button){case 0:this.events.emit("click",t,this);break;case 1:this.events.emit("middle",t,this);break;case 2:this.events.emit("context",t,this)}this.button=t.button}this.pos=this.getPos(t.clientX,t.clientY),this.start=this.getPos(t.clientX,t.clientY),this.down=!0,this.events.emit("touch",t,this)}onEnd(t){if(t instanceof Touch!=1)switch(t.button){case 0:this.events.emit("click-release",t,this);break;case 1:this.events.emit("middle-release",t,this);break;case 2:this.events.emit("context-release",t,this)}this.end=this.getPos(t.clientX,t.clientY),this.down=!1,this.events.emit("release",t,this)}}class O{constructor(t,e,n,r){var i,s,a;"object"!=typeof r&&(r={}),null!==(i=r.childList)&&void 0!==i||(r.childList=!0),null!==(s=r.subtree)&&void 0!==s||(r.subtree=!0),null!==(a=r.killOnRemove)&&void 0!==a||(r.killOnRemove=!0),this.id=R(),this.node=e,this.methods=n,this.inDom=document.body.contains(this.node.element),this.options=r,this.parent=t,this.parent.alive.set(this.id,this)}handleMutation(){document.body.contains(this.node.element)?(1!=this.inDom&&"function"==typeof this.methods.onAdd&&this.methods.onAdd(this.node),this.inDom=!0):this.inDom&&this.handleRemove()}handleRemove(){this.inDom=!1,"function"==typeof this.methods.onRemove&&this.methods.onRemove(this.node),1==this.options.killOnRemove&&this.parent.alive.delete(this.id)}}const D=new class{constructor(){this.alive=new Map,new MutationObserver((()=>{for(const t of this.alive.values())t.handleMutation()})).observe(document.body,{childList:!0,subtree:!0})}create(t,e,n){new O(this,t,e,n)}};class L{static extractEl(t){return t instanceof L?t.element:t}static isNode(t){return t instanceof L}get call(){return this}constructor(t){if(this.data={},this.privateData={},this.listeners={},"string"==typeof t)this.element=document.createElement(t);else if(t instanceof Element||t instanceof HTMLElement||t instanceof HTMLInputElement)this.element=t;else{if(!(t instanceof L))throw new Error("Invalid el");this.element=t.element}}get focused(){return document.activeElement===this.element}get childFocused(){return this.focused||this.element.contains(document.activeElement)}get bounds(){return this.element.getBoundingClientRect()}get parent(){const t=this.element.parentElement;if(null!=t)return new L(t)}get value(){var t;return this.element instanceof HTMLInputElement?this.element.value:null!==(t=this.element.textContent)&&void 0!==t?t:""}set value(t){this.element instanceof HTMLInputElement?this.element.value=t:this.element.textContent=t}get wrapper(){return this.ref}ref(t){return t(this),this}text(t){return this.element.textContent=t,this}id(t){return this.element.id=t,this}attr(t={}){if("object"!=typeof t)return this;for(const[e,n]of Object.entries(t))this.element.setAttribute(e,n+"");return this}swap(t){const e=L.extractEl(t);return this.element.replaceWith(e),this.element=e,this}clone(){return new L(this.element.cloneNode(!0))}clear(){return this.element.textContent="",this}exists(){return document.body.contains(this.element)}getChildren(){return Array.from(this.element.children).map((t=>new L(t)))}reset(...t){const e=t.length>0?t:["content","style","class"];for(const t of e)if("content"===t)this.element.innerHTML="";else if("style"===t){if(this.element instanceof HTMLElement){const t=this.element.style;for(let e=t.length;e--;){const n=t[e];t.removeProperty(n)}}}else"class"===t&&(this.element.className="");return this}class(...t){return this.element.className=t.join(" "),this}hasClass(t){return this.element.classList.contains(t)}addClass(...t){for(const e of t)e.includes(" ")?t.splice(t.indexOf(e),1,...e.split(" ")):Array.isArray(e)&&t.splice(t.indexOf(e),1,...e);return Array.isArray(t)&&this.element.classList.add(...t),this}removeClass(...t){for(const e of t)e.includes(" ")&&t.splice(t.indexOf(e),1,...e.split(" "));return Array.isArray(t)&&this.element.classList.remove(...t),this}toggleClass(t,e=!this.hasClass(t)){return e?this.addClass(t):this.removeClass(t),this}styles(t={}){if("object"!=typeof t)return this;if(this.element instanceof HTMLElement!=1)return this;for(const[e,n]of Object.entries(t)){if("props"===e)for(const[t,e]of Object.entries(n))this.element.style.setProperty(`--${t}`,e);this.element.style[e]=n}return this}removeStyles(...t){if(this.element instanceof HTMLElement!=1)return this;for(const e of t)this.element.style.removeProperty(e);return this}on(t,e){return this.addListener({temp:{[t]:e}}),this}addListener(t){var e,n;for(const[r,i]of Object.entries(t))for(const[t,s]of Object.entries(i)){"keypress"!=t&&"keydown"!=t&&"keyup"!=t||this.attr({tabindex:0});const i=s.bind(this);null!==(e=(n=this.listeners)[r])&&void 0!==e||(n[r]={}),this.listeners[r][t]=i,this.element.addEventListener(t,i)}return this}removeListener(t){for(const e in this.listeners[t])this.element.removeEventListener(e,this.listeners[t][e]);return delete this.listeners[t],this}interval(t,e=1e3,n=!1){const r=()=>t.bind(this)(this,(()=>clearInterval(i)));n&&r();let i=setInterval(r,e);return this.observer({onRemove:()=>clearInterval(i)}),this}remove(){return this.element.remove(),this}setContent(...t){return this.clear().append(...t)}append(...t){if(t.length<1)return this;for(const e of t)Array.isArray(e)&&t.splice(t.indexOf(e),1,...e);for(const e of t)0==e||null==e||Array.isArray(e)||("string"==typeof e?this.element.append(e):this.element.append(L.extractEl(e)));return this}appendTo(t){return 0==t||t.append(L.extractEl(this.element)),this}prependTo(t){return null==t||t.prepend(L.extractEl(this.element)),this}prepend(...t){if(t.length<1)return this;for(const e of t)if(Array.isArray(e)){const n=t.indexOf(e);t.splice(n,n+e.length),t.push(...e)}for(const e of t)this.element.prepend(L.extractEl(e));return this}focus(){return setTimeout((()=>this.element instanceof HTMLElement&&this.element.focus()),0),this}scroll(t=0,e=0){return setTimeout((()=>this.element.scroll(t,e)),500),this}observer(t,e){return D.create(this,t,e),this}setTabIndex(t){return"number"==typeof t&&(0>t?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex","0")),this}horizontalScrolling(){return this.on("wheel",(t=>{t.preventDefault(),this.element.scrollLeft+=t.deltaY})),this}}new Proxy({},{get:(t,e)=>{return n=document.createElement(e),new L(n);var n}}),fetch;class B{constructor(t=document.body){this.alive=!1,this.pressed={},this.events=new y,this.isPressed=t=>1==this.pressed[t.toLowerCase()],this.intPressed=t=>this.isPressed(t)?1:0,this.object=new L(t)}init(){!1===this.alive&&(this.alive=!0,this.object.addListener({kbEvents:{keydown:t=>this.simulateKeyDown(t.key),keyup:t=>this.simulateKeyUp(t.key)}}))}get stop(){return this.dispose}dispose(){!0===this.alive&&(this.alive=!1,this.object.removeListener("kbEvents"))}simulateKeyDown(t){const e=(t||"").toLowerCase();this.pressed[e]=!0,this.events.emit("key-"+e,e)}simulateKeyUp(t){delete this.pressed[(t||"").toLowerCase()]}anyPressed(...t){return t.some(this.isPressed)}mapInt(...t){return Object.fromEntries(t.map((t=>[t,this.intPressed(t)])))}applyKeys(t){for(const[e,n]of Object.entries(t))!0===n?this.simulateKeyDown(e):this.simulateKeyUp(e)}}class U{constructor(t){this.value=0,this.currentIndex=0,this.lastTick=0,this.samples=[],this.sampleSize=null!=t?t:60}tick(){if(null==this.lastTick)return this.lastTick=performance.now(),0;const t=performance.now(),e=1/((t-this.lastTick)/1e3);this.samples[this.currentIndex]=Math.round(e);let n=0;for(let t=0;t<this.samples.length;t++)n+=this.samples[t];const r=Math.round(n/this.samples.length);return this.value=r,this.lastTick=t,this.currentIndex++,this.currentIndex===this.sampleSize&&(this.currentIndex=0),this.value}}class F{constructor(t,e){this.frame=-1,this.paused=!0,this.fpsLimit=-1,this.actualFps=-1,this.fpsLimit=t,this.delay=1e3/t,this.callback=e,this._fpsHandler=new U}loop(t){if(this.paused)return;null==this.time&&(this.time=t);const e=Math.floor((t-this.time)/this.delay);e>this.frame&&(this.frame=e,this.actualFps=this._fpsHandler.tick(),this.callback(this)),this.RafRef=requestAnimationFrame(this.loop.bind(this))}get setFps(){return this.fpsLimit}get fps(){return this.actualFps}set fps(t){0!=arguments.length&&(this.maxFramesPerSecond=t,this.delay=1e3,this.frame=-1,this.time=void 0)}start(){1==this.paused&&(this.paused=!1,this.RafRef=requestAnimationFrame(this.loop.bind(this)))}pause(t=1==!this.paused){this.paused=t,!0===this.paused?("number"==typeof this.RafRef&&cancelAnimationFrame(this.RafRef),this.time=void 0,this.frame=-1):this.start()}}var N,j=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};function M(t,e){var n,r,i;const s=null!==(n=null==e?void 0:e.center)&&void 0!==n?n:{x:0,y:0},a=null!==(r=null==e?void 0:e.offset)&&void 0!==r?r:{x:0,y:0},o=null!==(i=null==e?void 0:e.zoom)&&void 0!==i?i:1;return new w((t.x-a.x)*o+s.x/o,(t.y-a.y)*o+s.y/o)}class P{constructor(t,e={}){if(this.id=R(),this.x=0,this.y=0,this.width=0,this.height=0,this.priority=1,this.enabled=!0,this.visible=!0,this.events=new y,this.engine=t,"object"==typeof e&&("number"==typeof e.x&&(this.x=e.x),"number"==typeof e.y&&(this.y=e.y),"number"==typeof e.width&&(this.width=e.width),"number"==typeof e.height&&(this.height=e.height),"number"==typeof e.priority&&(this.priority=e.priority),"number"==typeof e.lifetime)){const t=Date.now()+e.lifetime;this.events.on("update",(()=>Date.now()>t&&this.removeType()))}}ref(t){return t.bind(this)(this),this}tick(){this.events.emit("update"),this.events.emit("render")}removeType(){this.events.emit("remove"),this.events.all.clear(),this.engine instanceof H&&this.engine.objects.delete(this)}addTo(...t){return this.events.emit("add"),this.engine instanceof H&&this.engine.objects.add(this),t.forEach((t=>1==(null==t?void 0:t.isObjGroup)&&t.add(this))),this}toScreen(){const t=this.engine.worldToScreen({x:this.x,y:this.y});return{x:t.x,y:t.y,width:this.width*this.engine.zoom,height:this.height*this.engine.zoom}}get canvas(){return this.engine.brush}collides(t=()=>!1){for(const e of this.engine.objects.values())if(this!=e&&t(this,e))return!0;return!1}enable(){this.visible=!0,this.enabled=!0}disable(){this.visible=!1,this.enabled=!1}}class Z{constructor(t){if(this.isObjGroup=!0,N.set(this,new Set),"orago is the coolest lol"!=(null==t?void 0:t._pc_by_orago))throw"Cannot Create Tag Set";this.engine=t}add(){for(const t of arguments)j(this,N,"f").add(t)}kill(){for(const t of j(this,N,"f"))this.engine.objects.delete(t),j(this,N,"f").delete(t)}get items(){return[...j(this,N,"f")]}}N=new WeakMap;class H{constructor(t){if(this._pc_by_orago="orago is the coolest lol",this.objects=new Set,this.offset=new w,this.zoom=3,this.frame=0,this.collision=T,this.object=(t,e)=>new P(this,t).ref(e),this.brush=t,t.canvas instanceof HTMLCanvasElement!=1)throw new Error("Cannot use offscreen canvas for engine");if(null==t.canvas.parentElement)throw new Error("Cannot assign container");t.canvas.setAttribute("tabindex","1"),this.cursor=new I(t.canvas),this.keyboard=new B(t.canvas.parentElement),this.ticks=new F(64,(()=>{var t;this.frame=null===(t=null==this?void 0:this.ticks)||void 0===t?void 0:t.frame;for(const t of this.orderedObjects)t.tick()})),this.ticks.start(),this.cursor.events.on("click",(()=>{for(const t of this.orderedObjects){if(1!=t.events.all.has("click"))continue;const e=t.toScreen();1==this.collision.rectContains(e,this.cursor.pos)&&t.enabled&&t.events.emit("click",this.cursor.pos)}}))}get orderedObjects(){return Array.from(this.objects).sort(((t,e)=>t.priority-e.priority))}screenToWorld(t,e){return function(t,e){var n,r,i;const s=null!==(n=null==e?void 0:e.center)&&void 0!==n?n:{x:0,y:0},a=null!==(r=null==e?void 0:e.offset)&&void 0!==r?r:{x:0,y:0},o=null!==(i=null==e?void 0:e.zoom)&&void 0!==i?i:1;return new w((t.x+a.x)*o+s.x,(t.y+a.y)*o+s.y)}(t,{center:!0===(null==e?void 0:e.center)?this.brush.center():{x:0,y:0},offset:this.offset,zoom:this.zoom})}worldToScreen(t,e){return M(t,{center:!0===(null==e?void 0:e.center)?this.brush.center():{x:0,y:0},offset:this.offset,zoom:this.zoom})}get objectGroup(){return new Z(this)}findObjects(t){return Array.from(this.objects).filter(t)}allowZoom(){const t=this;let e,n,r;function i(t){if(2!==t.touches.length)return;const[n,r]=Array.from(t.touches),i=Math.sqrt(Math.pow(r.pageX-n.pageX,2)+Math.pow(r.pageY-n.pageY,2));if(null!=e)return i/e;e=i}return this.brush.canvas.addEventListener("wheel",(e=>{e instanceof WheelEvent==1&&(e.deltaY>0&&t.zoom>.2?t.zoom-=.2:e.deltaY<0&&t.zoom<20&&(t.zoom+=.2))}),!1),this.brush.canvas.addEventListener("touchstart",(function(e){e.preventDefault(),e instanceof TouchEvent&&(n=i(e),r=t.zoom)})),this.brush.canvas.addEventListener("touchmove",(function(e){if(e.preventDefault(),e instanceof TouchEvent!=1)return;const s=i(e);null!=s&&null!=n&&null!=r&&(t.zoom=Math.floor(r+(s-n)))})),this.brush.canvas.addEventListener("touchend",(function(t){t.preventDefault(),r=void 0,n=void 0})),this}setCursor(t){const{canvas:e}=this.brush;return e instanceof HTMLCanvasElement&&(e.style.cursor=`url(${t}), pointer`),this}destroy(){this.keyboard.events.all.clear(),this.cursor.reInit();for(const t of Array.from(this.objects))t.removeType()}}const W={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let G;const K=new Uint8Array(16);function Y(){if(!G&&(G="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!G))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return G(K)}const X=[];for(let t=0;t<256;++t)X.push((t+256).toString(16).slice(1));const V=function(t,e,n){if(W.randomUUID&&!e&&!t)return W.randomUUID();const r=(t=t||{}).random||(t.rng||Y)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return X[t[e+0]]+X[t[e+1]]+X[t[e+2]]+X[t[e+3]]+"-"+X[t[e+4]]+X[t[e+5]]+"-"+X[t[e+6]]+X[t[e+7]]+"-"+X[t[e+8]]+X[t[e+9]]+"-"+X[t[e+10]]+X[t[e+11]]+X[t[e+12]]+X[t[e+13]]+X[t[e+14]]+X[t[e+15]]}(r)};class q{constructor(t,e,n,r){var i,s,a;"object"!=typeof r&&(r={}),null!==(i=r.childList)&&void 0!==i||(r.childList=!0),null!==(s=r.subtree)&&void 0!==s||(r.subtree=!0),null!==(a=r.killOnRemove)&&void 0!==a||(r.killOnRemove=!0),this.id=V(),this.node=e,this.methods=n,this.inDom=document.body.contains(this.node.element),this.options=r,this.parent=t,this.parent.alive.set(this.id,this)}handleMutation(){document.body.contains(this.node.element)?(1!=this.inDom&&"function"==typeof this.methods.onAdd&&this.methods.onAdd(this.node),this.inDom=!0):this.inDom&&this.handleRemove()}handleRemove(){this.inDom=!1,"function"==typeof this.methods.onRemove&&this.methods.onRemove(this.node),1==this.options.killOnRemove&&this.parent.alive.delete(this.id)}}const $=new class{constructor(){this.alive=new Map,new MutationObserver((()=>{for(const t of this.alive.values())t.handleMutation()})).observe(document.body,{childList:!0,subtree:!0})}create(t,e,n){new q(this,t,e,n)}};class J{static extractEl(t){return t instanceof J?t.element:t}static isNode(t){return t instanceof J}get call(){return this}constructor(t){if(this.data={},this.privateData={},this.listeners={},"string"==typeof t)this.element=document.createElement(t);else if(t instanceof Element||t instanceof HTMLElement||t instanceof HTMLInputElement)this.element=t;else{if(!(t instanceof J))throw new Error("Invalid el");this.element=t.element}}get focused(){return document.activeElement===this.element}get childFocused(){return this.focused||this.element.contains(document.activeElement)}get bounds(){return this.element.getBoundingClientRect()}get parent(){const t=this.element.parentElement;if(null!=t)return new J(t)}get value(){var t;return this.element instanceof HTMLInputElement?this.element.value:null!==(t=this.element.textContent)&&void 0!==t?t:""}set value(t){this.element instanceof HTMLInputElement?this.element.value=t:this.element.textContent=t}get wrapper(){return this.ref}ref(t){return t(this),this}text(t){return this.element.textContent=t,this}id(t){return this.element.id=t,this}attr(t={}){if("object"!=typeof t)return this;for(const[e,n]of Object.entries(t))this.element.setAttribute(e,n+"");return this}swap(t){const e=J.extractEl(t);return this.element.replaceWith(e),this.element=e,this}clone(){return new J(this.element.cloneNode(!0))}clear(){return this.element.textContent="",this}exists(){return document.body.contains(this.element)}getChildren(){return Array.from(this.element.children).map((t=>new J(t)))}reset(...t){const e=t.length>0?t:["content","style","class"];for(const t of e)if("content"===t)this.element.innerHTML="";else if("style"===t){if(this.element instanceof HTMLElement){const t=this.element.style;for(let e=t.length;e--;){const n=t[e];t.removeProperty(n)}}}else"class"===t&&(this.element.className="");return this}class(...t){return this.element.className=t.join(" "),this}hasClass(t){return this.element.classList.contains(t)}addClass(...t){for(const e of t)e.includes(" ")?t.splice(t.indexOf(e),1,...e.split(" ")):Array.isArray(e)&&t.splice(t.indexOf(e),1,...e);return Array.isArray(t)&&this.element.classList.add(...t),this}removeClass(...t){for(const e of t)e.includes(" ")&&t.splice(t.indexOf(e),1,...e.split(" "));return Array.isArray(t)&&this.element.classList.remove(...t),this}toggleClass(t,e=!this.hasClass(t)){return e?this.addClass(t):this.removeClass(t),this}styles(t={}){if("object"!=typeof t)return this;if(this.element instanceof HTMLElement!=1)return this;for(const[e,n]of Object.entries(t)){if("props"===e)for(const[t,e]of Object.entries(n))this.element.style.setProperty(`--${t}`,e);this.element.style[e]=n}return this}removeStyles(...t){if(this.element instanceof HTMLElement!=1)return this;for(const e of t)this.element.style.removeProperty(e);return this}on(t,e){return this.addListener({temp:{[t]:e}}),this}addListener(t){var e,n;for(const[r,i]of Object.entries(t))for(const[t,s]of Object.entries(i)){"keypress"!=t&&"keydown"!=t&&"keyup"!=t||this.attr({tabindex:0});const i=s.bind(this);null!==(e=(n=this.listeners)[r])&&void 0!==e||(n[r]={}),this.listeners[r][t]=i,this.element.addEventListener(t,i)}return this}removeListener(t){for(const e in this.listeners[t])this.element.removeEventListener(e,this.listeners[t][e]);return delete this.listeners[t],this}interval(t,e=1e3,n=!1){const r=()=>t.bind(this)(this,(()=>clearInterval(i)));n&&r();let i=setInterval(r,e);return this.observer({onRemove:()=>clearInterval(i)}),this}remove(){return this.element.remove(),this}setContent(...t){return this.clear().append(...t)}append(...t){if(t.length<1)return this;for(const e of t)Array.isArray(e)&&t.splice(t.indexOf(e),1,...e);for(const e of t)0==e||null==e||Array.isArray(e)||("string"==typeof e?this.element.append(e):this.element.append(J.extractEl(e)));return this}appendTo(t){return 0==t||t.append(J.extractEl(this.element)),this}prependTo(t){return null==t||t.prepend(J.extractEl(this.element)),this}prepend(...t){if(t.length<1)return this;for(const e of t)if(Array.isArray(e)){const n=t.indexOf(e);t.splice(n,n+e.length),t.push(...e)}for(const e of t)this.element.prepend(J.extractEl(e));return this}focus(){return setTimeout((()=>this.element instanceof HTMLElement&&this.element.focus()),0),this}scroll(t=0,e=0){return setTimeout((()=>this.element.scroll(t,e)),500),this}observer(t,e){return $.create(this,t,e),this}setTabIndex(t){return"number"==typeof t&&(0>t?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex","0")),this}horizontalScrolling(){return this.on("wheel",(t=>{t.preventDefault(),this.element.scrollLeft+=t.deltaY})),this}animate(t,e){var n;const r=this.element.animate(t,e);return"object"==typeof e&&(r.onfinish=n=>{var i,s;null===(s=null===(i=e.onFinish)||void 0===i?void 0:i.bind(r))||void 0===s||s(n),!0===e.save&&this.styles(t[t.length-1])},e.onCancel&&(r.oncancel=e.onCancel),e.onRemove&&(r.onremove=e.onRemove),null===(n=e.animationReference)||void 0===n||n.call(e,r)),this}}const Q=new Proxy({},{get:(t,e)=>{return n=document.createElement(e),new J(n);var n}});fetch;const tt=function(t,e=document){const n=e.querySelector(t);return n?new J(n):null}("body"),et=(new class{constructor(t={}){this.resolution=1,this.smoothing=!0,this.events=new y,this.setSmoothing=t=>(this.ctx.imageSmoothingEnabled=this.smoothing=1==t,this),"object"!=typeof t&&(t={});let{dimensions:e=[100,100],inputCanvas:n=document.createElement("canvas"),resolution:r=1}=t;this.swapCanvas({canvas:n,dimensions:e}),this.updateResolution(r)}updateResolution(t){}updateSize(t,e){Object.assign(this.canvas,{width:t,height:e}),this.events.emit("resize",t,e),this.setSmoothing(this.smoothing)}swapCanvas({canvas:t,ctx:e,dimensions:n}){if(this.canvas=t,e instanceof CanvasRenderingContext2D)this.ctx=e;else if(t instanceof HTMLCanvasElement){const e=t.getContext("2d");e&&(this.ctx=e)}Array.isArray(n)&&this.updateSize(...n)}center(){return new w(this.width/2,this.height/2)}focus(){this.canvas instanceof HTMLCanvasElement&&this.canvas.focus()}dimensions(){return{width:this.width,height:this.height}}get width(){return this.canvas.width}get height(){return this.canvas.height}forceDimensions({width:t,height:e}){"number"==typeof t&&this.canvas.width!=t&&(this.canvas.width=t),"number"==typeof e&&this.canvas.height!=e&&(this.canvas.height=e)}image(t,e,n){return g.Image(this.ctx,t,e,n),this}text(t){if(this.ctx instanceof CanvasRenderingContext2D!=1)return;let{text:e,color:n,x:r=0,y:i=0,font:s,weight:a,size:o}=t;r|=0,i|=0,this.chainable.generatedFont({font:s,weight:a,size:o}).color(n).pos(r,i).text(e)}shape(t){if(this.ctx instanceof CanvasRenderingContext2D!=1)return;let{color:e="pink",x:n=0,y:r=0,w:i=0,h:s=0}=t;n|=0,r|=0,i|=0,s|=0,this.chainable.color(e).size(i,s).pos(n,r).rect}circle(t){g.circle(this.ctx,t)}gradient({shape:t="square",percent:{w:e=0,h:n=0}={},colorStart:r="black",colorEnd:i="white",x:s=0,y:a=0,w:o=0,h=0,radius:l=.5}={}){if(this.ctx instanceof CanvasRenderingContext2D!=1)return;const{ctx:c}=this,[d,u]=[s+o*e,a+h*n];let f;f="radial"==t?c.createRadialGradient(d,u,0,d,u,o*l):c.createLinearGradient(d,u,s+o,a+h),f.addColorStop(0,r),f.addColorStop(1,i),c.fillStyle=f,c.fillRect(s,a,o,h)}getTextWidth(t){const e=document.createElement("canvas").getContext("2d");return e&&(e.font=""),"string"!=typeof t.font&&"number"!=typeof t.size||this.text({color:"white",font:t.font||"Tahoma",size:t.size||20,text:"",x:-1e4,y:-1e4}),this.ctx.measureText(t.text).width}clear(){return this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this}clearRect(t,e,n,r){return this.ctx.clearRect(t,e,n,r),this}resizable(){const t=()=>{const{canvas:t,setSmoothing:e}=this,{documentElement:n}=document;t instanceof HTMLCanvasElement&&document.body.contains(t)&&(t.style.width=100*this.resolution+"%",t.style.height=100*this.resolution+"%"),t.width=n.clientWidth*this.resolution,t.height=n.clientHeight*this.resolution,e(!1),this.events.emit("resize",t.width,t.height)};return"addEventListener"in window&&window.addEventListener("resize",t),t(),this}get get(){return this}get chainable(){return new x(this)}}).resizable();tt.append(et.canvas);const nt=new H(et);class rt extends P{constructor(t){super(t),t.destroy()}}function it(t,e){const{brush:n}=t,{ctx:r}=t.brush;e.gridColor??="grey",e.gridColorV??=e.gridColor,e.gridBackground??="silver";const i=e.size,s=e.offset.y%i,a=e.offset.x%i;r.clearRect(0,0,n.width,n.height),r.fillStyle=e.gridBackground,r.fillRect(0,0,n.width,n.height);for(let t=s;t<n.height;t+=i)r.beginPath(),r.moveTo(0,t),r.lineTo(n.width,t),r.strokeStyle=e.gridColor,r.stroke();for(let t=a;t<n.width;t+=i)r.beginPath(),r.moveTo(t,0),r.lineTo(t,n.height),r.strokeStyle=e.gridColorV,r.stroke()}class st extends P{modes={panning:!1,zoom:!1};pan={start:{x:0,y:0},offset:{x:0,y:0},change:{x:0,y:0},state:!1,active:!1};constructor(t){super(t),this.engine.brush.canvas.addEventListener("wheel",this.handleWheel.bind(this));const{cursor:e}=t;e.events.on("touch",(t=>{window.TouchEvent&&t instanceof Touch&&(this.pan.active=!0)})),e.object.addEventListener("touchend",(()=>this.pan.active=!1)),e.events.on("move",(()=>this.panTick())),e.events.on("middle",(()=>this.pan.active=!0)),e.events.on("middle-release",(()=>this.pan.active=!1))}toggleModes(t,e){for(const n of e)this.modes[n]=t;return this}handleWheel(t){if(1!=this.modes.panning)return;const{deltaY:e}=t,{offset:n}=this.engine,r=this.engine.cursor.pos,i={x:r.x,y:r.y},s=M(i,{zoom:1,offset:n}),a=e<0?1.1:1/1.1;this.engine.zoom*=a;const o=M(i,{zoom:a,offset:n});this.engine.offset.x+=s.x-o.x,this.engine.offset.y+=s.y-o.y,t.preventDefault()}panTick(){1==this.modes.panning&&(this.pan.active?this.panMove():this.pan.state&&this.panReset())}panMove(){const{cursor:t}=this.engine;1!=this.pan.state&&(this.pan.state=!0,this.pan.start={x:t.pos.x,y:t.pos.y}),this.pan.change.x=t.pos.x-this.pan.start.x,this.pan.change.y=t.pos.y-this.pan.start.y,this.engine.offset.x=this.pan.offset.x+this.pan.change.x,this.engine.offset.y=this.pan.offset.y+this.pan.change.y}panReset(){this.pan.state=!1,this.pan.offset.x+=this.pan.change.x,this.pan.offset.y+=this.pan.change.y,this.engine.offset.x=this.pan.offset.x,this.engine.offset.y=this.pan.offset.y,this.pan.change.x=0,this.pan.change.y=0}}function at(t){let e=t.length;for(;--e>=0;)t[e]=0}const ot=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ht=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),lt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ct=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dt=new Array(576);at(dt);const ut=new Array(60);at(ut);const ft=new Array(512);at(ft);const pt=new Array(256);at(pt);const mt=new Array(29);at(mt);const _t=new Array(30);function gt(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let vt,bt,wt;function yt(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}at(_t);const kt=t=>t<256?ft[t]:ft[256+(t>>>7)],xt=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},zt=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,xt(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Et=(t,e,n)=>{zt(t,n[2*e],n[2*e+1])},At=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},Ct=(t,e,n)=>{const r=new Array(16);let i,s,a=0;for(i=1;i<=15;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=At(r[e]++,e))}},St=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Rt=t=>{t.bi_valid>8?xt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Tt=(t,e,n,r)=>{const i=2*e,s=2*n;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},It=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Tt(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Tt(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},Ot=(t,e,n)=>{let r,i,s,a,o=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+o++],r+=(255&t.pending_buf[t.sym_buf+o++])<<8,i=t.pending_buf[t.sym_buf+o++],0===r?Et(t,i,e):(s=pt[i],Et(t,s+256+1,e),a=ot[s],0!==a&&(i-=mt[s],zt(t,i,a)),r--,s=kt(r),Et(t,s,n),a=ht[s],0!==a&&(r-=_t[s],zt(t,r,a)))}while(o<t.sym_next);Et(t,256,e)},Dt=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,h,l=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<s;a++)0!==n[2*a]?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):n[2*a+1]=0;for(;t.heap_len<2;)h=t.heap[++t.heap_len]=l<2?++l:0,n[2*h]=1,t.depth[h]=0,t.opt_len--,i&&(t.static_len-=r[2*h+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)It(t,n,a);h=s;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],It(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=o,n[2*h]=n[2*a]+n[2*o],t.depth[h]=(t.depth[a]>=t.depth[o]?t.depth[a]:t.depth[o])+1,n[2*a+1]=n[2*o+1]=h,t.heap[1]=h++,It(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,h=e.stat_desc.max_length;let l,c,d,u,f,p,m=0;for(u=0;u<=15;u++)t.bl_count[u]=0;for(n[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)c=t.heap[l],u=n[2*n[2*c+1]+1]+1,u>h&&(u=h,m++),n[2*c+1]=u,c>r||(t.bl_count[u]++,f=0,c>=o&&(f=a[c-o]),p=n[2*c],t.opt_len+=p*(u+f),s&&(t.static_len+=p*(i[2*c+1]+f)));if(0!==m){do{for(u=h-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[h]--,m-=2}while(m>0);for(u=h;0!==u;u--)for(c=t.bl_count[u];0!==c;)d=t.heap[--l],d>r||(n[2*d+1]!==u&&(t.opt_len+=(u-n[2*d+1])*n[2*d],n[2*d+1]=u),c--)}})(t,e),Ct(n,l,t.bl_count)},Lt=(t,e,n)=>{let r,i,s=-1,a=e[1],o=0,h=7,l=4;for(0===a&&(h=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++o<h&&i===a||(o<l?t.bl_tree[2*i]+=o:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=i,0===a?(h=138,l=3):i===a?(h=6,l=3):(h=7,l=4))},Bt=(t,e,n)=>{let r,i,s=-1,a=e[1],o=0,h=7,l=4;for(0===a&&(h=138,l=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++o<h&&i===a)){if(o<l)do{Et(t,i,t.bl_tree)}while(0!=--o);else 0!==i?(i!==s&&(Et(t,i,t.bl_tree),o--),Et(t,16,t.bl_tree),zt(t,o-3,2)):o<=10?(Et(t,17,t.bl_tree),zt(t,o-3,3)):(Et(t,18,t.bl_tree),zt(t,o-11,7));o=0,s=i,0===a?(h=138,l=3):i===a?(h=6,l=3):(h=7,l=4)}};let Ut=!1;const Ft=(t,e,n,r)=>{zt(t,0+(r?1:0),3),Rt(t),xt(t,n),xt(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var Nt={_tr_init:t=>{Ut||((()=>{let t,e,n,r,i;const s=new Array(16);for(n=0,r=0;r<28;r++)for(mt[r]=n,t=0;t<1<<ot[r];t++)pt[n++]=r;for(pt[n-1]=r,i=0,r=0;r<16;r++)for(_t[r]=i,t=0;t<1<<ht[r];t++)ft[i++]=r;for(i>>=7;r<30;r++)for(_t[r]=i<<7,t=0;t<1<<ht[r]-7;t++)ft[256+i++]=r;for(e=0;e<=15;e++)s[e]=0;for(t=0;t<=143;)dt[2*t+1]=8,t++,s[8]++;for(;t<=255;)dt[2*t+1]=9,t++,s[9]++;for(;t<=279;)dt[2*t+1]=7,t++,s[7]++;for(;t<=287;)dt[2*t+1]=8,t++,s[8]++;for(Ct(dt,287,s),t=0;t<30;t++)ut[2*t+1]=5,ut[2*t]=At(t,5);vt=new gt(dt,ot,257,286,15),bt=new gt(ut,ht,0,30,15),wt=new gt(new Array(0),lt,0,19,7)})(),Ut=!0),t.l_desc=new yt(t.dyn_ltree,vt),t.d_desc=new yt(t.dyn_dtree,bt),t.bl_desc=new yt(t.bl_tree,wt),t.bi_buf=0,t.bi_valid=0,St(t)},_tr_stored_block:Ft,_tr_flush_block:(t,e,n,r)=>{let i,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Dt(t,t.l_desc),Dt(t,t.d_desc),a=(t=>{let e;for(Lt(t,t.dyn_ltree,t.l_desc.max_code),Lt(t,t.dyn_dtree,t.d_desc.max_code),Dt(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*ct[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?Ft(t,e,n,r):4===t.strategy||s===i?(zt(t,2+(r?1:0),3),Ot(t,dt,ut)):(zt(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(zt(t,e-257,5),zt(t,n-1,5),zt(t,r-4,4),i=0;i<r;i++)zt(t,t.bl_tree[2*ct[i]+1],3);Bt(t,t.dyn_ltree,e-1),Bt(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Ot(t,t.dyn_ltree,t.dyn_dtree)),St(t),r&&Rt(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(pt[n]+256+1)]++,t.dyn_dtree[2*kt(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{zt(t,2,3),Et(t,256,dt),(t=>{16===t.bi_valid?(xt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},jt=(t,e,n,r)=>{let i=65535&t,s=t>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+e[r++]|0,s=s+i|0}while(--a);i%=65521,s%=65521}return i|s<<16};const Mt=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var Pt=(t,e,n,r)=>{const i=Mt,s=r+n;t^=-1;for(let n=r;n<s;n++)t=t>>>8^i[255&(t^e[n])];return~t},Zt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ht={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Wt,_tr_stored_block:Gt,_tr_flush_block:Kt,_tr_tally:Yt,_tr_align:Xt}=Nt,{Z_NO_FLUSH:Vt,Z_PARTIAL_FLUSH:qt,Z_FULL_FLUSH:$t,Z_FINISH:Jt,Z_BLOCK:Qt,Z_OK:te,Z_STREAM_END:ee,Z_STREAM_ERROR:ne,Z_DATA_ERROR:re,Z_BUF_ERROR:ie,Z_DEFAULT_COMPRESSION:se,Z_FILTERED:ae,Z_HUFFMAN_ONLY:oe,Z_RLE:he,Z_FIXED:le,Z_DEFAULT_STRATEGY:ce,Z_UNKNOWN:de,Z_DEFLATED:ue}=Ht,fe=258,pe=262,me=42,_e=113,ge=666,ve=(t,e)=>(t.msg=Zt[e],e),be=t=>2*t-(t>4?9:0),we=t=>{let e=t.length;for(;--e>=0;)t[e]=0},ye=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);e=i,r=e;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)};let ke=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const xe=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},ze=(t,e)=>{Kt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,xe(t.strm)},Ee=(t,e)=>{t.pending_buf[t.pending++]=e},Ae=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Ce=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=jt(t.adler,e,i,n):2===t.state.wrap&&(t.adler=Pt(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},Se=(t,e)=>{let n,r,i=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match;const h=t.strstart>t.w_size-pe?t.strstart-(t.w_size-pe):0,l=t.window,c=t.w_mask,d=t.prev,u=t.strstart+fe;let f=l[s+a-1],p=l[s+a];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(n=e,l[n+a]===p&&l[n+a-1]===f&&l[n]===l[s]&&l[++n]===l[s+1]){s+=2,n++;do{}while(l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&s<u);if(r=fe-(u-s),s=u-fe,r>a){if(t.match_start=e,a=r,r>=o)break;f=l[s+a-1],p=l[s+a]}}}while((e=d[e&c])>h&&0!=--i);return a<=t.lookahead?a:t.lookahead},Re=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-pe)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),ye(t),r+=e),0===t.strm.avail_in)break;if(n=Ce(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=ke(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=ke(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<pe&&0!==t.strm.avail_in)},Te=(t,e)=>{let n,r,i,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,a=0,o=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>i&&(n=i),n<s&&(0===n&&e!==Jt||e===Vt||n!==r+t.strm.avail_in))break;a=e===Jt&&n===r+t.strm.avail_in?1:0,Gt(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,xe(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(Ce(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===a);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?4:e!==Vt&&e!==Jt&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(Ce(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,s=i>t.w_size?t.w_size:i,r=t.strstart-t.block_start,(r>=s||(r||e===Jt)&&e!==Vt&&0===t.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=e===Jt&&0===t.strm.avail_in&&n===r?1:0,Gt(t,t.block_start,n,a),t.block_start+=n,xe(t.strm)),a?3:1)},Ie=(t,e)=>{let n,r;for(;;){if(t.lookahead<pe){if(Re(t),t.lookahead<pe&&e===Vt)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=ke(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-pe&&(t.match_length=Se(t,n)),t.match_length>=3)if(r=Yt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ke(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ke(t,t.ins_h,t.window[t.strstart+1]);else r=Yt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ze(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Jt?(ze(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ze(t,!1),0===t.strm.avail_out)?1:2},Oe=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<pe){if(Re(t),t.lookahead<pe&&e===Vt)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=ke(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-pe&&(t.match_length=Se(t,n),t.match_length<=5&&(t.strategy===ae||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=Yt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=ke(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(ze(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=Yt(t,0,t.window[t.strstart-1]),r&&ze(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Yt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Jt?(ze(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ze(t,!1),0===t.strm.avail_out)?1:2};function De(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const Le=[new De(0,0,0,0,Te),new De(4,4,8,4,Ie),new De(4,5,16,8,Ie),new De(4,6,32,32,Ie),new De(4,4,16,16,Oe),new De(8,16,32,32,Oe),new De(8,16,128,128,Oe),new De(8,32,128,256,Oe),new De(32,128,258,1024,Oe),new De(32,258,258,4096,Oe)];function Be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),we(this.dyn_ltree),we(this.dyn_dtree),we(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),we(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),we(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ue=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==me&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==_e&&e.status!==ge?1:0},Fe=t=>{if(Ue(t))return ve(t,ne);t.total_in=t.total_out=0,t.data_type=de;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?me:_e,t.adler=2===e.wrap?0:1,e.last_flush=-2,Wt(e),te},Ne=t=>{const e=Fe(t);var n;return e===te&&((n=t.state).window_size=2*n.w_size,we(n.head),n.max_lazy_match=Le[n.level].max_lazy,n.good_match=Le[n.level].good_length,n.nice_match=Le[n.level].nice_length,n.max_chain_length=Le[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},je=(t,e,n,r,i,s)=>{if(!t)return ne;let a=1;if(e===se&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==ue||r<8||r>15||e<0||e>9||s<0||s>le||8===r&&1!==a)return ve(t,ne);8===r&&(r=9);const o=new Be;return t.state=o,o.strm=t,o.status=me,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=s,o.method=n,Ne(t)};var Me={deflateInit:(t,e)=>je(t,e,ue,15,8,ce),deflateInit2:je,deflateReset:Ne,deflateResetKeep:Fe,deflateSetHeader:(t,e)=>Ue(t)||2!==t.state.wrap?ne:(t.state.gzhead=e,te),deflate:(t,e)=>{if(Ue(t)||e>Qt||e<0)return t?ve(t,ne):ne;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===ge&&e!==Jt)return ve(t,0===t.avail_out?ie:ne);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(xe(t),0===t.avail_out)return n.last_flush=-1,te}else if(0===t.avail_in&&be(e)<=be(r)&&e!==Jt)return ve(t,ie);if(n.status===ge&&0!==t.avail_in)return ve(t,ie);if(n.status===me&&0===n.wrap&&(n.status=_e),n.status===me){let e=ue+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=oe||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,Ae(n,e),0!==n.strstart&&(Ae(n,t.adler>>>16),Ae(n,65535&t.adler)),t.adler=1,n.status=_e,xe(t),0!==n.pending)return n.last_flush=-1,te}if(57===n.status)if(t.adler=0,Ee(n,31),Ee(n,139),Ee(n,8),n.gzhead)Ee(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ee(n,255&n.gzhead.time),Ee(n,n.gzhead.time>>8&255),Ee(n,n.gzhead.time>>16&255),Ee(n,n.gzhead.time>>24&255),Ee(n,9===n.level?2:n.strategy>=oe||n.level<2?4:0),Ee(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ee(n,255&n.gzhead.extra.length),Ee(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Pt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,9===n.level?2:n.strategy>=oe||n.level<2?4:0),Ee(n,3),n.status=_e,xe(t),0!==n.pending)return n.last_flush=-1,te;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=Pt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=i,xe(t),0!==n.pending)return n.last_flush=-1,te;e=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=Pt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=Pt(t.adler,n.pending_buf,n.pending-r,r)),xe(t),0!==n.pending)return n.last_flush=-1,te;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ee(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=Pt(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=Pt(t.adler,n.pending_buf,n.pending-r,r)),xe(t),0!==n.pending)return n.last_flush=-1,te;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ee(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=Pt(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(xe(t),0!==n.pending))return n.last_flush=-1,te;Ee(n,255&t.adler),Ee(n,t.adler>>8&255),t.adler=0}if(n.status=_e,xe(t),0!==n.pending)return n.last_flush=-1,te}if(0!==t.avail_in||0!==n.lookahead||e!==Vt&&n.status!==ge){let r=0===n.level?Te(n,e):n.strategy===oe?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Re(t),0===t.lookahead)){if(e===Vt)return 1;break}if(t.match_length=0,n=Yt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ze(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Jt?(ze(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ze(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===he?((t,e)=>{let n,r,i,s;const a=t.window;for(;;){if(t.lookahead<=fe){if(Re(t),t.lookahead<=fe&&e===Vt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){s=t.strstart+fe;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);t.match_length=fe-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Yt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Yt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ze(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Jt?(ze(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ze(t,!1),0===t.strm.avail_out)?1:2})(n,e):Le[n.level].func(n,e);if(3!==r&&4!==r||(n.status=ge),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),te;if(2===r&&(e===qt?Xt(n):e!==Qt&&(Gt(n,0,0,!1),e===$t&&(we(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),xe(t),0===t.avail_out))return n.last_flush=-1,te}return e!==Jt?te:n.wrap<=0?ee:(2===n.wrap?(Ee(n,255&t.adler),Ee(n,t.adler>>8&255),Ee(n,t.adler>>16&255),Ee(n,t.adler>>24&255),Ee(n,255&t.total_in),Ee(n,t.total_in>>8&255),Ee(n,t.total_in>>16&255),Ee(n,t.total_in>>24&255)):(Ae(n,t.adler>>>16),Ae(n,65535&t.adler)),xe(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?te:ee)},deflateEnd:t=>{if(Ue(t))return ne;const e=t.state.status;return t.state=null,e===_e?ve(t,re):te},deflateSetDictionary:(t,e)=>{let n=e.length;if(Ue(t))return ne;const r=t.state,i=r.wrap;if(2===i||1===i&&r.status!==me||r.lookahead)return ne;if(1===i&&(t.adler=jt(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(we(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const s=t.avail_in,a=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Re(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=ke(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,Re(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=a,t.input=o,t.avail_in=s,r.wrap=i,te},deflateInfo:"pako deflate (from Nodeca project)"};const Pe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ze={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)Pe(n,e)&&(t[e]=n[e])}}return t},flattenChunks:t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,i=t.length;e<i;e++){let i=t[e];n.set(i,r),r+=i.length}return n}};let He=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){He=!1}const We=new Uint8Array(256);for(let t=0;t<256;t++)We[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;We[254]=We[254]=1;var Ge={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},buf2string:(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let e=t[r++];if(e<128){s[i++]=e;continue}let a=We[e];if(a>4)s[i++]=65533,r+=a-1;else{for(e&=2===a?31:3===a?15:7;a>1&&r<n;)e=e<<6|63&t[r++],a--;a>1?s[i++]=65533:e<65536?s[i++]=e:(e-=65536,s[i++]=55296|e>>10&1023,s[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&He)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(s,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+We[t[n]]>e?n:e}},Ke=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ye=Object.prototype.toString,{Z_NO_FLUSH:Xe,Z_SYNC_FLUSH:Ve,Z_FULL_FLUSH:qe,Z_FINISH:$e,Z_OK:Je,Z_STREAM_END:Qe,Z_DEFAULT_COMPRESSION:tn,Z_DEFAULT_STRATEGY:en,Z_DEFLATED:nn}=Ht;function rn(t){this.options=Ze.assign({level:tn,method:nn,chunkSize:16384,windowBits:15,memLevel:8,strategy:en},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ke,this.strm.avail_out=0;let n=Me.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Je)throw new Error(Zt[n]);if(e.header&&Me.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Ge.string2buf(e.dictionary):"[object ArrayBuffer]"===Ye.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=Me.deflateSetDictionary(this.strm,t),n!==Je)throw new Error(Zt[n]);this._dict_set=!0}}function sn(t,e){const n=new rn(e);if(n.push(t,!0),n.err)throw n.msg||Zt[n.err];return n.result}rn.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?$e:Xe,"string"==typeof t?n.input=Ge.string2buf(t):"[object ArrayBuffer]"===Ye.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===Ve||s===qe)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Me.deflate(n,s),i===Qe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Me.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Je;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},rn.prototype.onData=function(t){this.chunks.push(t)},rn.prototype.onEnd=function(t){t===Je&&(this.result=Ze.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var an={Deflate:rn,deflate:sn,deflateRaw:function(t,e){return(e=e||{}).raw=!0,sn(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,sn(t,e)},constants:Ht};const on=16209;var hn=function(t,e){let n,r,i,s,a,o,h,l,c,d,u,f,p,m,_,g,v,b,w,y,k,x,z,E;const A=t.state;n=t.next_in,z=t.input,r=n+(t.avail_in-5),i=t.next_out,E=t.output,s=i-(e-t.avail_out),a=i+(t.avail_out-257),o=A.dmax,h=A.wsize,l=A.whave,c=A.wnext,d=A.window,u=A.hold,f=A.bits,p=A.lencode,m=A.distcode,_=(1<<A.lenbits)-1,g=(1<<A.distbits)-1;t:do{f<15&&(u+=z[n++]<<f,f+=8,u+=z[n++]<<f,f+=8),v=p[u&_];e:for(;;){if(b=v>>>24,u>>>=b,f-=b,b=v>>>16&255,0===b)E[i++]=65535&v;else{if(!(16&b)){if(64&b){if(32&b){A.mode=16191;break t}t.msg="invalid literal/length code",A.mode=on;break t}v=p[(65535&v)+(u&(1<<b)-1)];continue e}for(w=65535&v,b&=15,b&&(f<b&&(u+=z[n++]<<f,f+=8),w+=u&(1<<b)-1,u>>>=b,f-=b),f<15&&(u+=z[n++]<<f,f+=8,u+=z[n++]<<f,f+=8),v=m[u&g];;){if(b=v>>>24,u>>>=b,f-=b,b=v>>>16&255,16&b){if(y=65535&v,b&=15,f<b&&(u+=z[n++]<<f,f+=8,f<b&&(u+=z[n++]<<f,f+=8)),y+=u&(1<<b)-1,y>o){t.msg="invalid distance too far back",A.mode=on;break t}if(u>>>=b,f-=b,b=i-s,y>b){if(b=y-b,b>l&&A.sane){t.msg="invalid distance too far back",A.mode=on;break t}if(k=0,x=d,0===c){if(k+=h-b,b<w){w-=b;do{E[i++]=d[k++]}while(--b);k=i-y,x=E}}else if(c<b){if(k+=h+c-b,b-=c,b<w){w-=b;do{E[i++]=d[k++]}while(--b);if(k=0,c<w){b=c,w-=b;do{E[i++]=d[k++]}while(--b);k=i-y,x=E}}}else if(k+=c-b,b<w){w-=b;do{E[i++]=d[k++]}while(--b);k=i-y,x=E}for(;w>2;)E[i++]=x[k++],E[i++]=x[k++],E[i++]=x[k++],w-=3;w&&(E[i++]=x[k++],w>1&&(E[i++]=x[k++]))}else{k=i-y;do{E[i++]=E[k++],E[i++]=E[k++],E[i++]=E[k++],w-=3}while(w>2);w&&(E[i++]=E[k++],w>1&&(E[i++]=E[k++]))}break}if(64&b){t.msg="invalid distance code",A.mode=on;break t}v=m[(65535&v)+(u&(1<<b)-1)]}}break}}while(n<r&&i<a);w=f>>3,n-=w,f-=w<<3,u&=(1<<f)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<a?a-i+257:257-(i-a),A.hold=u,A.bits=f};const ln=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),un=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var fn=(t,e,n,r,i,s,a,o)=>{const h=o.bits;let l,c,d,u,f,p,m=0,_=0,g=0,v=0,b=0,w=0,y=0,k=0,x=0,z=0,E=null;const A=new Uint16Array(16),C=new Uint16Array(16);let S,R,T,I=null;for(m=0;m<=15;m++)A[m]=0;for(_=0;_<r;_++)A[e[n+_]]++;for(b=h,v=15;v>=1&&0===A[v];v--);if(b>v&&(b=v),0===v)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(g=1;g<v&&0===A[g];g++);for(b<g&&(b=g),k=1,m=1;m<=15;m++)if(k<<=1,k-=A[m],k<0)return-1;if(k>0&&(0===t||1!==v))return-1;for(C[1]=0,m=1;m<15;m++)C[m+1]=C[m]+A[m];for(_=0;_<r;_++)0!==e[n+_]&&(a[C[e[n+_]]++]=_);if(0===t?(E=I=a,p=20):1===t?(E=ln,I=cn,p=257):(E=dn,I=un,p=0),z=0,_=0,m=g,f=s,w=b,y=0,d=-1,x=1<<b,u=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){S=m-y,a[_]+1<p?(R=0,T=a[_]):a[_]>=p?(R=I[a[_]-p],T=E[a[_]-p]):(R=96,T=0),l=1<<m-y,c=1<<w,g=c;do{c-=l,i[f+(z>>y)+c]=S<<24|R<<16|T}while(0!==c);for(l=1<<m-1;z&l;)l>>=1;if(0!==l?(z&=l-1,z+=l):z=0,_++,0==--A[m]){if(m===v)break;m=e[n+a[_]]}if(m>b&&(z&u)!==d){for(0===y&&(y=b),f+=g,w=m-y,k=1<<w;w+y<v&&(k-=A[w+y],!(k<=0));)w++,k<<=1;if(x+=1<<w,1===t&&x>852||2===t&&x>592)return 1;d=z&u,i[d]=b<<24|w<<16|f-s}}return 0!==z&&(i[f+z]=m-y<<24|64<<16),o.bits=b,0};const{Z_FINISH:pn,Z_BLOCK:mn,Z_TREES:_n,Z_OK:gn,Z_STREAM_END:vn,Z_NEED_DICT:bn,Z_STREAM_ERROR:wn,Z_DATA_ERROR:yn,Z_MEM_ERROR:kn,Z_BUF_ERROR:xn,Z_DEFLATED:zn}=Ht,En=16180,An=16190,Cn=16191,Sn=16192,Rn=16194,Tn=16199,In=16200,On=16206,Dn=16209,Ln=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Bn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Un=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<En||e.mode>16211?1:0},Fn=t=>{if(Un(t))return wn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=En,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,gn},Nn=t=>{if(Un(t))return wn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Fn(t)},jn=(t,e)=>{let n;if(Un(t))return wn;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?wn:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Nn(t))},Mn=(t,e)=>{if(!t)return wn;const n=new Bn;t.state=n,n.strm=t,n.window=null,n.mode=En;const r=jn(t,e);return r!==gn&&(t.state=null),r};let Pn,Zn,Hn=!0;const Wn=t=>{if(Hn){Pn=new Int32Array(512),Zn=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(fn(1,t.lens,0,288,Pn,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;fn(2,t.lens,0,32,Zn,0,t.work,{bits:5}),Hn=!1}t.lencode=Pn,t.lenbits=9,t.distcode=Zn,t.distbits=5},Gn=(t,e,n,r)=>{let i;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var Kn={inflateReset:Nn,inflateReset2:jn,inflateResetKeep:Fn,inflateInit:t=>Mn(t,15),inflateInit2:Mn,inflate:(t,e)=>{let n,r,i,s,a,o,h,l,c,d,u,f,p,m,_,g,v,b,w,y,k,x,z=0;const E=new Uint8Array(4);let A,C;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Un(t)||!t.output||!t.input&&0!==t.avail_in)return wn;n=t.state,n.mode===Cn&&(n.mode=Sn),a=t.next_out,i=t.output,h=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,l=n.hold,c=n.bits,d=o,u=h,x=gn;t:for(;;)switch(n.mode){case En:if(0===n.wrap){n.mode=Sn;break}for(;c<16;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,E[0]=255&l,E[1]=l>>>8&255,n.check=Pt(n.check,E,2,0),l=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=Dn;break}if((15&l)!==zn){t.msg="unknown compression method",n.mode=Dn;break}if(l>>>=4,c-=4,k=8+(15&l),0===n.wbits&&(n.wbits=k),k>15||k>n.wbits){t.msg="invalid window size",n.mode=Dn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&l?16189:Cn,l=0,c=0;break;case 16181:for(;c<16;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(n.flags=l,(255&n.flags)!==zn){t.msg="unknown compression method",n.mode=Dn;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Dn;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(E[0]=255&l,E[1]=l>>>8&255,n.check=Pt(n.check,E,2,0)),l=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(E[0]=255&l,E[1]=l>>>8&255,E[2]=l>>>16&255,E[3]=l>>>24&255,n.check=Pt(n.check,E,4,0)),l=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(E[0]=255&l,E[1]=l>>>8&255,n.check=Pt(n.check,E,2,0)),l=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(E[0]=255&l,E[1]=l>>>8&255,n.check=Pt(n.check,E,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>o&&(f=o),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),k)),512&n.flags&&4&n.wrap&&(n.check=Pt(n.check,r,f,s)),o-=f,s+=f,n.length-=f),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break t;f=0;do{k=r[s+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=Pt(n.check,r,f,s)),o-=f,s+=f,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break t;f=0;do{k=r[s+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=Pt(n.check,r,f,s)),o-=f,s+=f,k)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(4&n.wrap&&l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Dn;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Cn;break;case 16189:for(;c<32;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}t.adler=n.check=Ln(l),l=0,c=0,n.mode=An;case An:if(0===n.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,n.hold=l,n.bits=c,bn;t.adler=n.check=1,n.mode=Cn;case Cn:if(e===mn||e===_n)break t;case Sn:if(n.last){l>>>=7&c,c-=7&c,n.mode=On;break}for(;c<3;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}switch(n.last=1&l,l>>>=1,c-=1,3&l){case 0:n.mode=16193;break;case 1:if(Wn(n),n.mode=Tn,e===_n){l>>>=2,c-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Dn}l>>>=2,c-=2;break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Dn;break}if(n.length=65535&l,l=0,c=0,n.mode=Rn,e===_n)break t;case Rn:n.mode=16195;case 16195:if(f=n.length,f){if(f>o&&(f=o),f>h&&(f=h),0===f)break t;i.set(r.subarray(s,s+f),a),o-=f,s+=f,h-=f,a+=f,n.length-=f;break}n.mode=Cn;break;case 16196:for(;c<14;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Dn;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}n.lens[S[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},x=fn(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,x){t.msg="invalid code lengths set",n.mode=Dn;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;z=n.lencode[l&(1<<n.lenbits)-1],_=z>>>24,g=z>>>16&255,v=65535&z,!(_<=c);){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(v<16)l>>>=_,c-=_,n.lens[n.have++]=v;else{if(16===v){for(C=_+2;c<C;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(l>>>=_,c-=_,0===n.have){t.msg="invalid bit length repeat",n.mode=Dn;break}k=n.lens[n.have-1],f=3+(3&l),l>>>=2,c-=2}else if(17===v){for(C=_+3;c<C;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}l>>>=_,c-=_,k=0,f=3+(7&l),l>>>=3,c-=3}else{for(C=_+7;c<C;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}l>>>=_,c-=_,k=0,f=11+(127&l),l>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Dn;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===Dn)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Dn;break}if(n.lenbits=9,A={bits:n.lenbits},x=fn(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,x){t.msg="invalid literal/lengths set",n.mode=Dn;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},x=fn(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,x){t.msg="invalid distances set",n.mode=Dn;break}if(n.mode=Tn,e===_n)break t;case Tn:n.mode=In;case In:if(o>=6&&h>=258){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,n.hold=l,n.bits=c,hn(t,u),a=t.next_out,i=t.output,h=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,l=n.hold,c=n.bits,n.mode===Cn&&(n.back=-1);break}for(n.back=0;z=n.lencode[l&(1<<n.lenbits)-1],_=z>>>24,g=z>>>16&255,v=65535&z,!(_<=c);){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(g&&!(240&g)){for(b=_,w=g,y=v;z=n.lencode[y+((l&(1<<b+w)-1)>>b)],_=z>>>24,g=z>>>16&255,v=65535&z,!(b+_<=c);){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}l>>>=b,c-=b,n.back+=b}if(l>>>=_,c-=_,n.back+=_,n.length=v,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=Cn;break}if(64&g){t.msg="invalid literal/length code",n.mode=Dn;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(C=n.extra;c<C;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;z=n.distcode[l&(1<<n.distbits)-1],_=z>>>24,g=z>>>16&255,v=65535&z,!(_<=c);){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(!(240&g)){for(b=_,w=g,y=v;z=n.distcode[y+((l&(1<<b+w)-1)>>b)],_=z>>>24,g=z>>>16&255,v=65535&z,!(b+_<=c);){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}l>>>=b,c-=b,n.back+=b}if(l>>>=_,c-=_,n.back+=_,64&g){t.msg="invalid distance code",n.mode=Dn;break}n.offset=v,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(C=n.extra;c<C;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Dn;break}n.mode=16204;case 16204:if(0===h)break t;if(f=u-h,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Dn;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=a-n.offset,f=n.length;f>h&&(f=h),h-=f,n.length-=f;do{i[a++]=m[p++]}while(--f);0===n.length&&(n.mode=In);break;case 16205:if(0===h)break t;i[a++]=n.length,h--,n.mode=In;break;case On:if(n.wrap){for(;c<32;){if(0===o)break t;o--,l|=r[s++]<<c,c+=8}if(u-=h,t.total_out+=u,n.total+=u,4&n.wrap&&u&&(t.adler=n.check=n.flags?Pt(n.check,i,u,a-u):jt(n.check,i,u,a-u)),u=h,4&n.wrap&&(n.flags?l:Ln(l))!==n.check){t.msg="incorrect data check",n.mode=Dn;break}l=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===o)break t;o--,l+=r[s++]<<c,c+=8}if(4&n.wrap&&l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Dn;break}l=0,c=0}n.mode=16208;case 16208:x=vn;break t;case Dn:x=yn;break t;case 16210:return kn;default:return wn}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,n.hold=l,n.bits=c,(n.wsize||u!==t.avail_out&&n.mode<Dn&&(n.mode<On||e!==pn))&&Gn(t,t.output,t.next_out,u-t.avail_out),d-=t.avail_in,u-=t.avail_out,t.total_in+=d,t.total_out+=u,n.total+=u,4&n.wrap&&u&&(t.adler=n.check=n.flags?Pt(n.check,i,u,t.next_out-u):jt(n.check,i,u,t.next_out-u)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Cn?128:0)+(n.mode===Tn||n.mode===Rn?256:0),(0===d&&0===u||e===pn)&&x===gn&&(x=xn),x},inflateEnd:t=>{if(Un(t))return wn;let e=t.state;return e.window&&(e.window=null),t.state=null,gn},inflateGetHeader:(t,e)=>{if(Un(t))return wn;const n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,gn):wn},inflateSetDictionary:(t,e)=>{const n=e.length;let r,i,s;return Un(t)?wn:(r=t.state,0!==r.wrap&&r.mode!==An?wn:r.mode===An&&(i=1,i=jt(i,e,n,0),i!==r.check)?yn:(s=Gn(t,e,n,n),s?(r.mode=16210,kn):(r.havedict=1,gn)))},inflateInfo:"pako inflate (from Nodeca project)"},Yn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Xn=Object.prototype.toString,{Z_NO_FLUSH:Vn,Z_FINISH:qn,Z_OK:$n,Z_STREAM_END:Jn,Z_NEED_DICT:Qn,Z_STREAM_ERROR:tr,Z_DATA_ERROR:er,Z_MEM_ERROR:nr}=Ht;function rr(t){this.options=Ze.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ke,this.strm.avail_out=0;let n=Kn.inflateInit2(this.strm,e.windowBits);if(n!==$n)throw new Error(Zt[n]);if(this.header=new Yn,Kn.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Ge.string2buf(e.dictionary):"[object ArrayBuffer]"===Xn.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Kn.inflateSetDictionary(this.strm,e.dictionary),n!==$n)))throw new Error(Zt[n])}function ir(t,e){const n=new rr(e);if(n.push(t),n.err)throw n.msg||Zt[n.err];return n.result}rr.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(a=e===~~e?e:!0===e?qn:Vn,"[object ArrayBuffer]"===Xn.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Kn.inflate(n,a),s===Qn&&i&&(s=Kn.inflateSetDictionary(n,i),s===$n?s=Kn.inflate(n,a):s===er&&(s=Qn));n.avail_in>0&&s===Jn&&n.state.wrap>0&&0!==t[n.next_in];)Kn.inflateReset(n),s=Kn.inflate(n,a);switch(s){case tr:case er:case Qn:case nr:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||s===Jn))if("string"===this.options.to){let t=Ge.utf8border(n.output,n.next_out),e=n.next_out-t,i=Ge.buf2string(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==$n||0!==o){if(s===Jn)return s=Kn.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},rr.prototype.onData=function(t){this.chunks.push(t)},rr.prototype.onEnd=function(t){t===$n&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ze.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var sr={Inflate:rr,inflate:ir,inflateRaw:function(t,e){return(e=e||{}).raw=!0,ir(t,e)},ungzip:ir,constants:Ht};const{Deflate:ar,deflate:or,deflateRaw:hr,gzip:lr}=an,{Inflate:cr,inflate:dr,inflateRaw:ur,ungzip:fr}=sr;var pr={Deflate:ar,deflate:or,deflateRaw:hr,gzip:lr,Inflate:cr,inflate:dr,inflateRaw:ur,ungzip:fr,constants:Ht},mr=n(672),_r=n.n(mr),gr=n(571);class vr{file;sprite;render={x:0,y:0};constructor(t,e){this.file=t,this.sprite=e}}class br extends P{static async promiseConversion(t){return new Promise((e=>{const n=new FileReader;n.readAsArrayBuffer(t),n.onload=async function(){e(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ass";const n=document.createElement("canvas"),r=n.getContext("2d");let i=Date.now(),s=String.fromCharCode,a=!1;if(s(t[0])+s(t[1])+s(t[2])+s(t[3])+s(t[4])+s(t[5])!=="RTTXTR"){if(s(t[0])+s(t[1])+s(t[2])+s(t[3])+s(t[4])+s(t[5])!=="RTPACK")throw new Error("Not a valid RTTEX.");t=pr.inflate(t.slice(32)),a=!0}if(a){let e="";for(let n=0;n<=5;n++)e+=String.fromCharCode(t[n]);if("RTTXTR"!==e)throw new Error("Not a valid RTTEX.")}function o(t){return t.length%2==1?"0"+t:t}let h="",l="";for(let e=11;e>=8;e--)l+=o(t[e].toString(16));for(let e=23;e>=20;e--)h+=o(t[e].toString(16));let c=parseInt(l,16),d=parseInt(h,16),u="",f="";for(let e=15;e>=12;e--)f+=o(t[e].toString(16));for(let e=27;e>=24;e--)u+=o(t[e].toString(16));let p=parseInt(f,16),m=parseInt(u,16),_=t[28];console.log("-- Header Data for "+e+" --\n\nWidth - "+m+"px\nHeight - "+d+"px\nAlpha - "+_+"\nCompression - "+a),n.width=m,n.height=d;for(var g=124,v=[],b=c-1;b>=0;b--)for(var w=0;w<p;w++)_&&w<m?(v.push(t[g++]),v.push(t[g++]),v.push(t[g++]),v.push(t[g++])):w<m?(v.push(t[g++]),v.push(t[g++]),v.push(t[g++]),v.push(255)):g+=_?4:3;console.log("[BENCHMARK] Backend RTTEX to PNG OG: "+m+"x"+d+" POW: "+p+"x"+c+" concluded with "+(Date.now()-i)+"ms.");var y=r.getImageData(0,0,m,c);return y.data.set(new Uint8ClampedArray(v.slice(0,m*c*4))),r.putImageData(y,0,-(c-d)),r.transform(1,0,0,-1,0,n.height),r.imageSmoothingEnabled=!1,r.globalCompositeOperation="copy",r.drawImage(n,0,0),r.globalCompositeOperation="source-over",n}(new Uint8Array(n.result)))},n.onerror=function(){console.log(n.error),e(null)}}))}rttexList=[];constructor(t,e=!1){super(t),this.width=32,this.height=32,t.keyboard.events.on("key-k",(()=>this.popup())),e&&(t.cursor.events.on("click",(()=>{for(const e of this.rttexList){const{sprite:n}=e,r={x:t.offset.x,y:t.offset.y+0,width:n.width*t.zoom,height:n.height*t.zoom};if(T.rectContains(r,t.cursor.pos)){this.saveCanvas(n);break}}})),t.cursor.events.on("context",(()=>{let e=0,n=0;for(const{sprite:r}of this.rttexList){const i={x:t.offset.x,y:t.offset.y+e,width:r.width*t.zoom,height:r.height*t.zoom};if(e+=r.height*t.zoom,T.rectContains(i,t.cursor.pos)){this.rttexList.splice(n,1);break}n++}}))),this.events.on("render",(()=>{let e=0;for(const{sprite:n}of this.rttexList)t.brush.chainable.pos(t.offset.x,t.offset.y+e).size(n.width*t.zoom,n.height*t.zoom).image(n),e+=n.height*t.zoom}))}rttexAt(t){}popup(){const t=Q.input.attr({type:"file",multiple:"multiple"}).appendTo(tt);t.on("change",(()=>this.handleFiles(t.element.files))),t.element.click()}async handleFiles(t){for(const e of t){const t=await br.promiseConversion(e);null!=t&&this.rttexList.push(new vr(e,t))}}saveCanvas(t){const e=document.createElement("a"),n=t.toDataURL("image/png",1);e.style.visibility="hidden",document.body.appendChild(e),e.href=n,e.download="rttex".split(".")[0]+".png",e.click(),e.remove()}async saveall(){const t=new(_r());for(const e of this.rttexList)t.file(e.file.name.replace(".rttex",".png"),await new Promise((t=>{e.sprite.toBlob((function(e){return t(e),e}),"image/png")})));t.generateAsync({type:"blob"}).then((function(t){(0,gr.saveAs)(t,"example.zip")}))}}class wr extends rt{egen;constructor(t){super(t),this.priority=0,this.addTo(),this.loadDom(),t.keyboard.init(),this.egen=new br(t,!0).addTo(),new st(t).addTo().toggleModes(!0,["zoom","panning"]),this.events.on("render",(()=>{et.clear(),it(t,{size:32*t.zoom,offset:t.offset,gridColor:"goldenrod",gridBackground:"wheat"})}))}loadDom(){const t=Q.div.styles({position:"fixed",top:0,left:0,padding:"5px"}).append(Q.p.text("Click load files to render"),Q.p.text("Click on a sprite to download it"),Q.p.text("Right click or hold (if on mobile) on a sprite to remove it"),Q.button.on("click",(()=>this.egen.popup())).text("Load Files"),Q.button.on("click",(()=>this.egen.saveall())).text("Download all"));tt.append(t),this.events.on("remove",(()=>t.remove()))}}new class extends rt{constructor(t){super(t),this.priority=0,this.addTo(),this.loadDom(),t.keyboard.init(),new st(t).addTo().toggleModes(!0,["zoom","panning"]),this.events.on("render",(()=>{et.clear(),it(t,{size:32*t.zoom,offset:t.offset})}))}loadDom(){const t=Q.div.styles({position:"fixed",top:0,left:0,padding:"5px"}).append(Q.p.text("Most if not all assets used are copyright by Ubisoft."),Q.p.text("This project is not affiliated with Ubisoft or Growtopia."),Q.button.on("click",(()=>new wr(this.engine))).text("Launch Viewer"));tt.append(t),this.events.on("remove",(()=>t.remove()))}}(nt);